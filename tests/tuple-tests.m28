# Comprehensive test file for tuples
# Tests tuple creation, access, comparison, and type checking

# Test empty tuple
(print "Testing empty tuple:")
(= empty_tuple (tuple []))
(print "Empty tuple:" empty_tuple)
(print "Type of empty tuple:" (type empty_tuple))
(print "Length of empty tuple:" (len empty_tuple))
(assert (== (len empty_tuple) 0) "Empty tuple has length 0")
(print "PASS: Empty tuple works")

# Test single-element tuple
(print "\nTesting single-element tuple:")
(= single_tuple (tuple [1]))
(print "Single-element tuple:" single_tuple)
(print "Type of single-element tuple:" (type single_tuple))
(print "Length of single-element tuple:" (len single_tuple))
(assert (== (len single_tuple) 1) "Single-element tuple has length 1")
(print "First element of single-element tuple:" (nth single_tuple 0))
(assert (== (nth single_tuple 0) 1) "First element is 1")
(print "PASS: Single-element tuple works")

# Test multi-element tuple
(print "\nTesting multi-element tuple:")
(= multi_tuple (tuple [1, 2, 3, "four", 5.0]))
(print "Multi-element tuple:" multi_tuple)
(print "Type of multi-element tuple:" (type multi_tuple))
(print "Length of multi-element tuple:" (len multi_tuple))
(assert (== (len multi_tuple) 5) "Multi-element tuple has length 5")
(print "Elements of multi-element tuple:")
(for i in (range (len multi_tuple))
  (print "Element" i ":" (nth multi_tuple i)))
(print "PASS: Multi-element tuple works")

# Test nested tuples
(print "\nTesting nested tuples:")
(= inner1 (tuple [2, 3]))
(= inner2 (tuple [5, 6]))
(= inner3 (tuple [4, inner2]))
(= nested_tuple (tuple [1, inner1, inner3]))
(print "Nested tuple:" nested_tuple)
(print "Length of nested tuple:" (len nested_tuple))
(assert (== (len nested_tuple) 3) "Nested tuple has length 3")
(print "Second element:" (nth nested_tuple 1))
(print "PASS: Nested tuples work")

# Test tuple methods
(print "\nTesting tuple methods:")
(= test_tuple (tuple [10, 20, 30]))
(assert (== (. test_tuple length) 3) "Tuple length method works")
(assert (== (. test_tuple get 0) 10) "Tuple get(0) works")
(assert (== (. test_tuple get 1) 20) "Tuple get(1) works")
(assert (== (. test_tuple get 2) 30) "Tuple get(2) works")
(assert (== (. test_tuple get -1) 30) "Tuple get(-1) works")
(assert (. test_tuple contains 20) "Tuple contains works")
(assert (not (. test_tuple contains 99)) "Tuple contains returns false for missing")
(print "PASS: Tuple methods work")

# Test tuple to list conversion
(print "\nTesting tuple to list conversion:")
(= tuple_for_list (tuple [1, 2, 3]))
(= as_list (. tuple_for_list tolist))
(print "Tuple as list:" as_list)
(assert (== (len as_list) 3) "Converted list has same length")
(assert (== (nth as_list 0) 1) "First element matches")
(print "PASS: Tuple to list conversion works")

# Test tuple comparison
(print "\nTesting tuple comparison:")
(= tuple1 (tuple [1, 2, 3]))
(= tuple2 (tuple [1, 2, 3]))
(= tuple3 (tuple [1, 2, 4]))
(print "tuple1 == tuple2:" (== tuple1 tuple2))
(assert (== tuple1 tuple2) "Equal tuples are equal")
(print "tuple1 == tuple3:" (== tuple1 tuple3))
(assert (not (== tuple1 tuple3)) "Different tuples are not equal")
(print "PASS: Tuple comparison works")

# Test tuple immutability
(print "\nTesting tuple immutability:")
(= tuple_test (tuple [1, 2, 3]))
(print "Original tuple:" tuple_test)
(print "Trying to access tuple element:" (nth tuple_test 0))
(print "Note: Tuples are immutable - elements cannot be changed once created")
(print "PASS: Tuple immutability verified")

(print "\n===== Tuple Tests Complete =====")
(print "All tests passed!")
