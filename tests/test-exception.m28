(print "Testing basic exceptions")

(def (assert condition message)
  (if (not condition)
      (begin
        (print (+ "FAIL: " message))
        False)
      (begin
        (print (+ "PASS: " message))
        True)))

(print (assert 
  (try
    (/ 10 0)
    (except
      True)
    (finally
      True))
  "Basic exception catching"))

(print (assert 
  (try
    (raise ValueError "Test error")
    (except ValueError
      True)
    (except
      False))
  "Type-specific exception catching"))

(print (assert 
  (try
    (try
      (raise "Inner error")
      (except
        (raise "Outer error")))
    (except
      True))
  "Nested exception handling"))

(print "Testing complete")