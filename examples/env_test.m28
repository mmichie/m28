# Environment test
# Testing if environment variables are isolated

# Global variable
(= global-var "global")

# Function that modifies a local variable
(def (test-fn var-name)
  # Local variable
  (= local-var var-name)
  
  # Return a function that uses the local variable
  (lambda ()
    (+ "Variable value: " local-var)))

# Create two function instances
(= fn1 (test-fn "fn1"))
(= fn2 (test-fn "fn2"))

# Test
(print "Function 1 says: " (fn1))
(print "Function 2 says: " (fn2))

# Global variable test
(print "Global variable is: " global-var)
(= global-var "modified")
(print "Modified global variable is: " global-var)