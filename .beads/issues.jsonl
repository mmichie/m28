{"id":"M28-00d1","content_hash":"67c7fd24704ae7cea38d66144de0199d0aec6d43fadc4a349cade7c9e3041d1c","title":"Implement \"did you mean\" suggestions for common errors","description":"Add intelligent error suggestions:\n- Levenshtein distance for NameError suggestions\n- Common syntax error fixes (missing :, ), }, etc.)\n- Attribute suggestions for AttributeError\n- Import suggestions for ImportError\n- Configurable suggestion engine","design":"## Suggestion types:\n1. NameError: similar variable names in scope\n2. SyntaxError: common fixes (add colon, close paren)\n3. AttributeError: similar attribute names\n4. ImportError: similar module names\n\n## Files to create/modify:\n- common/suggestions/suggestions.go (NEW)\n- common/suggestions/levenshtein.go (NEW)\n- Integrate with error types","acceptance_criteria":"- NameError suggests similar names (max edit distance 2)\n- SyntaxError detects common patterns and suggests fixes\n- AttributeError suggests similar attributes\n- Suggestions ranked by relevance\n- Tests verify suggestion quality","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-22T13:12:31.23901-08:00","updated_at":"2025-11-22T13:12:31.23901-08:00"}
{"id":"M28-00ff","content_hash":"5b59c6404ce984887933b06a2f9bc1baf45cb9f929f8d9c7db382725217a3fb3","title":"Consider using generics","description":"Consider using Go 1.18+ generics for common patterns","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-04T21:58:35.737547-08:00","updated_at":"2025-11-04T21:58:35.737547-08:00","dependencies":[{"issue_id":"M28-00ff","depends_on_id":"M28-a420","type":"blocks","created_at":"2025-11-04T21:58:35.738033-08:00","created_by":"mim"}]}
{"id":"M28-03bf","content_hash":"5e55fe14e0076d05706d96ea93eff5e66bd866706842304ed0ba5b4e1ceb014c","title":"Stack traces with function names","description":"Complete implementation of stack traces with function names (partially implemented via CallStack)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:57:19.569042-08:00","updated_at":"2025-11-04T21:57:19.569042-08:00","dependencies":[{"issue_id":"M28-03bf","depends_on_id":"M28-466b","type":"blocks","created_at":"2025-11-04T21:57:19.569471-08:00","created_by":"mim"}]}
{"id":"M28-047d","content_hash":"569d4d2ee51289db0d5b5c5490e34042b1136184709f754dfbab1949cf4aa5ae","title":"Missing builtins implementation (all, any, sum, enumerate, zip)","description":"Core Python builtin functions:\n- all(), any(), sum() for sequence operations\n- enumerate(), zip() for iteration\n- chr(), ord() for character conversion\n- id(), hash() for object identity\n- compile(), eval(), exec() for dynamic code\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:07:48.899162-08:00","updated_at":"2025-11-04T22:07:55.670005-08:00","closed_at":"2025-11-04T22:07:55.670005-08:00","labels":["builtins","completed-2025-01"]}
{"id":"M28-0594","content_hash":"8c924584cab88320963ebddfaaec2366df0539b04367ecccd15df2068baca33d","title":"Bytes and ByteArray implementation","description":"Binary data types with full protocol support:\n- bytes type (immutable)\n- bytearray type (mutable)\n- Conversion to/from strings with encoding\n- Binary operations and slicing\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:26.323912-08:00","updated_at":"2025-11-04T22:06:31.149798-08:00","closed_at":"2025-11-04T22:06:31.149798-08:00","labels":["completed-2024","data-types"]}
{"id":"M28-08b6","content_hash":"ec6f88803328bd1c3c46e057697550fb55dca4cfa0f67fb177879b799e771ee6","title":"GetAttr deduplication","description":"Consolidated attribute access implementation:\n- Single GetAttr function used throughout codebase\n- Consistent protocol support\n- Removed duplicate implementations\n- Better error messages\n\nCompleted November 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:08:12.487542-08:00","updated_at":"2025-11-04T22:08:19.149275-08:00","closed_at":"2025-11-04T22:08:19.149275-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-0a1a","content_hash":"ed47d833590e823ea2934352787e07212c6c74e1ecb4f8807ee6a5e6c728eeb3","title":"Documentation generator","description":"Implement documentation generator that extracts from AST comments","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.223707-08:00","updated_at":"2025-11-04T21:59:25.223707-08:00","dependencies":[{"issue_id":"M28-0a1a","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.224453-08:00","created_by":"mim"}]}
{"id":"M28-0a74","content_hash":"e6a834fa537959bc8f3a2e9ba4be841987cbd7277513523c82ce8f4e97e6d802","title":"Compiler Architecture Phase 5: LLVM Backend","description":"Implement HIR → LLVM IR lowering, build runtime support (GC, objects), integrate LLVM optimization passes, support ahead-of-time compilation. Deliverable: 50-100x speedup for numerical code, standalone executables","design":"Native code compilation. Timeline: 6+ months (Future). See docs/design/compiler-architecture.md Phase 5","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T21:58:16.037199-08:00","updated_at":"2025-11-04T21:58:16.037199-08:00","dependencies":[{"issue_id":"M28-0a74","depends_on_id":"M28-b5c6","type":"blocks","created_at":"2025-11-04T21:58:16.037863-08:00","created_by":"mim"}]}
{"id":"M28-0af6","content_hash":"e1d3981de09e5d638110a46e357fb3b44f2126c607897efe41bde2f58ec4191e","title":"Generator expressions","description":"Implemented generator expressions: (x*2 for x in range(10))\nMemory-efficient lazy evaluation for sequences.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:04.315014-08:00","updated_at":"2025-11-04T22:06:11.077232-08:00","closed_at":"2025-11-04T22:06:11.077232-08:00","labels":["completed-2024","language-feature"]}
{"id":"M28-0c2f","content_hash":"0384cca0ed9dc745e051ac4326c4ade480065c90415e33e7d9e88aa798987646","title":"Fix LocatedValue unwrapping in Python class definitions","description":"Python-syntax class definitions fail to properly process metaclass keywords and parent classes because LocatedValue wrappers aren't unwrapped before type checking.\n\nThis causes:\n- Classes with metaclass=ABCMeta can't access metaclass methods like register()\n- Child classes don't inherit metaclass from parent classes  \n- _collections_abc and other stdlib modules fail to import\n\nImpact: Blocks usage of Python's abc module and dependent stdlib modules.","design":"## Required Changes in eval/class_forms.go\n\n### Fix 1: Unwrap keyword items and names\nAround lines 253-254:\n```go\nfor i := startIdx; i \u003c kwList.Len(); i++ {\n    kw := unwrapLocated(kwItems[i])  // ADD THIS\n```\n\nAround line 288:\n```go\nkwPairItems := kwPair.Items()\nkwNameVal := unwrapLocated(kwPairItems[0])  // ADD THIS  \nkwName, ok := kwNameVal.(core.StringValue)\n```\n\n### Fix 2: Unwrap parent class list elements  \nAround line 57:\n```go\nfor _, elem := range parentList.Items() {\n    elem = unwrapLocated(elem)  // ADD THIS\n    switch e := elem.(type) {\n```\n\n## Testing\n- Test with ABCMeta: class with explicit metaclass=ABCMeta can access register()\n- Test inheritance: class inheriting from ABCMeta class gets metaclass  \n- Test _collections_abc imports successfully\n- Run full test suite","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-23T07:11:05.654812-08:00","updated_at":"2025-11-23T07:19:19.771469-08:00","closed_at":"2025-11-23T07:19:19.771469-08:00"}
{"id":"M28-0c53","content_hash":"cb3c6c45de767250cc3008b20209f7bd99bab1eacfeef275df567cedfa77c367","title":"Python Module Auto-Transpiling MVP","description":"Automatic conversion of Python stdlib modules to M28:\n- Runtime detection of Python source files\n- Transparent transpilation to M28 AST\n- Caching of transpiled modules\n- Seamless integration with import system\n\nEnables running CPython stdlib modules directly in M28.\n\nCompleted January 2025.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-04T22:07:25.286136-08:00","updated_at":"2025-11-04T22:07:28.737359-08:00","closed_at":"2025-11-04T22:07:28.737359-08:00","labels":["completed-2025-01","python-compat"]}
{"id":"M28-0cb1","content_hash":"a3fc979f914be26c77ce49e7e2f7830241db9d70641939e650a943472b47630a","title":"__format__ dunder method","description":"Custom formatting support via __format__ protocol.\nEnables format() builtin and f-string format specs for custom types.\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:47.336238-08:00","updated_at":"2025-11-04T22:06:54.454954-08:00","closed_at":"2025-11-04T22:06:54.454954-08:00","labels":["completed-2025-01","protocols"]}
{"id":"M28-1025","content_hash":"7510d3688f6128da3db1a3d09f48c25459942dad3cb92c40c5321b27b1ab10ad","title":"Fix Python class definitions with LocatedValue","description":"Python class definitions likely fail due to LocatedValue wrapping in classForm handler.\n\nExample:\n```python\nclass MyClass:\n    def __init__(self):\n        self.value = 10\n    \n    def get_value(self):\n        return self.value\n```\n\nClass form needs to unwrap class name, base classes, and method definitions.","design":"## Files to check\n- eval/class_forms.go or special_forms/class.go\n\n## Fix approach\n- Unwrap class name\n- Unwrap base class list items\n- Unwrap method names in class body\n- Handle self parameter properly","acceptance_criteria":"- Class definitions work\n- __init__ methods work  \n- Instance methods work\n- Instance creation works\n- Method calls work","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-22T14:52:44.527098-08:00","updated_at":"2025-11-22T14:52:44.527098-08:00","dependencies":[{"issue_id":"M28-1025","depends_on_id":"M28-1298","type":"blocks","created_at":"2025-11-22T14:52:44.527608-08:00","created_by":"mim"}]}
{"id":"M28-116d","content_hash":"321089e95b026d22a1ce8277a54b302f280db3072e730122e41fdb7cdd09df58","title":"Multiple inheritance","description":"Implement Python-style multiple inheritance for classes","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:57:11.198097-08:00","updated_at":"2025-11-04T21:57:11.198097-08:00","dependencies":[{"issue_id":"M28-116d","depends_on_id":"M28-8944","type":"blocks","created_at":"2025-11-04T21:57:11.198828-08:00","created_by":"mim"}]}
{"id":"M28-1298","content_hash":"e377ae28b8e3aec6e48b7434ac73852a53efd0b50a26e485369707dabd8b9a3c","title":"Fix LocatedValue unwrapping in assignment and special forms","description":"Python assignments fail with \"expected symbol or dot notation, got symbol\" because special forms don't unwrap LocatedValue wrappers from AST ToIR() conversion.\n\nRoot cause: When AST nodes convert to IR via ToIR(), they wrap values in LocatedValue to preserve source location. Special forms like assignForm do type assertions that fail when encountering LocatedValue wrappers.\n\nImpact: ALL Python assignments are broken (x = 0, a, b = 1, 2, etc.)","design":"## Solution Approach\n\nCreate a helper function `unwrapLocated(v core.Value) core.Value` that recursively unwraps LocatedValue.\n\nApply unwrapping in special forms before type assertions:\n1. assignForm/assignFormInternal (eval/util.go)\n2. All other special forms that do type assertions on arguments\n3. Pattern matching and unpacking code\n\n## Files to modify\n- eval/util.go (assignFormInternal, UnpackPattern, etc.)\n- eval/evaluator.go (possibly add unwrap helper)\n- All special form handlers that use type assertions\n\n## Testing\n- Run /Users/mim/src/m28/tests/cpython/test_grammar.py\n- Verify basic assignment: x = 0\n- Verify tuple unpacking: a, b = 1, 2\n- Run full test suite","acceptance_criteria":"- Python assignments work: x = 0\n- Multiple assignment works: a, b = 1, 2\n- CPython grammar test passes assignment section\n- No regressions in M28 syntax tests\n- Integration tests pass","notes":"Partial fix completed:\n\nFIXED:\n- Created unwrapLocated() helper function in eval/util.go to recursively unwrap LocatedValue wrappers\n- Applied unwrapping in assignFormInternal before all type assertions\n- Applied unwrapping in UnpackPattern before pattern matching\n- Applied unwrapping in tuple unpacking logic\n- Applied unwrapping in dot notation checks\n- Fixed tuple-literal/list-literal marker skipping in star unpacking\n- Basic Python assignment now works: x = 0, a = 1, etc.\n- All existing tests pass\n\nREMAINING ISSUES:\n- Tuple unpacking still fails with \"name 'tuple-literal' is not defined\" or \"name 'a' is not defined\"  \n- Needs further investigation of how tuple-literal special form interacts with assignment\n- The unwrapping fixes are comprehensive, but tuple unpacking may have additional issues beyond LocatedValue\n\nNext steps: Create separate bead for tuple unpacking investigation","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-22T14:51:48.963982-08:00","updated_at":"2025-11-22T15:53:53.27651-08:00","closed_at":"2025-11-22T15:53:53.27651-08:00"}
{"id":"M28-160a","content_hash":"d59d46f031f43da262e0fdb903d6f4ef34025c73231326a2fd088307b79c063d","title":"Compiler Architecture Phase 2: Optimize HIR","description":"Implement constant folding pass, dead code elimination, inline simple functions, add optimization flags to CLI. Deliverable: Parser → HIR → Optimize → Adapter → core.Value → Evaluator","design":"Add optimization passes on HIR. Timeline: 1 month. See docs/design/compiler-architecture.md Phase 2","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:58:15.935296-08:00","updated_at":"2025-11-04T21:58:15.935296-08:00","dependencies":[{"issue_id":"M28-160a","depends_on_id":"M28-b5c6","type":"blocks","created_at":"2025-11-04T21:58:15.93583-08:00","created_by":"mim"}]}
{"id":"M28-167f","content_hash":"75e554d3cb7cba1691123efee66e48a9c06bc636fe895e407e32b3312293cf1f","title":"Dict initialization from pairs","description":"Implement dict initialization from pairs (core/type_registry.go:925)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:35.476174-08:00","updated_at":"2025-11-04T21:58:35.476174-08:00","dependencies":[{"issue_id":"M28-167f","depends_on_id":"M28-897c","type":"blocks","created_at":"2025-11-04T21:58:35.476651-08:00","created_by":"mim"}]}
{"id":"M28-17e5","content_hash":"310c9473e700cf647dc3acdd8650f85998703694874c7a486d93fcc6563e02e1","title":"Pass CPython test_augassign.py regression test","description":"Ensure all tests in CPython's test_augassign.py pass in M28. Tests augmented assignment operators (+=, -=, *=, /=, //=, %=, **=, \u0026=, |=, ^=, etc).\n\nCurrent Status: 1 test passing. M28 already supports augmented assignment, blocked by unittest.main() exception.\n\nFile: /Users/mim/.pyenv/versions/3.12.0/lib/python3.12/test/test_augassign.py (326 lines)\n\nTests include:\n- Basic augmented assignment: x += 1, x *= 2, etc\n- Augmented assignment in lists: x[0] += 1\n- Augmented assignment in dicts: x[0] *= 2\n- Augmented assignment in class instances\n- Error cases (SyntaxError for invalid patterns)","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-07T07:11:50.95817-08:00","updated_at":"2025-11-07T07:11:50.95817-08:00","dependencies":[{"issue_id":"M28-17e5","depends_on_id":"M28-877c","type":"blocks","created_at":"2025-11-07T07:11:50.958635-08:00","created_by":"mim"},{"issue_id":"M28-17e5","depends_on_id":"M28-e4b4","type":"blocks","created_at":"2025-11-07T07:11:50.958966-08:00","created_by":"mim"}]}
{"id":"M28-1c83","content_hash":"8bb65980b16ce378eb07d899af8aa5197364c90500e6e6b220abd03fcd942721","title":"Pass CPython test_class.py regression test","description":"Ensure all tests in CPython's test_class.py pass in M28. Tests class definitions, inheritance, method resolution order (MRO), class attributes, instance attributes, and special methods.","notes":"Fixed core issue preventing CPython test_class.py from passing:\n\n**Root Cause:**\nWhen creating classes dynamically with type(name, bases, dict), functions in the namespace dict were being incorrectly classified as descriptors (because UserFunction has __get__ for method binding) and added as attributes instead of methods. This prevented __init__ and other methods from being called.\n\n**Solution (Corrected):**\nSpecial-case __init__ to be added as a method (skipping descriptor check) EXCEPT for metaclasses. Metaclasses (classes inheriting from type or ABCMeta) need __init__ to remain in attributes to function correctly. Initial fix of checking callable-first caused module import timeouts because it broke ABCMeta.\n\n**Fixes Applied:**\n1. **builtin/types.go (type.__new__)**: \n   - Add early check for __init__ before descriptor logic\n   - Detect metaclasses by checking if parent is 'type' or 'ABCMeta'\n   - For non-metaclasses: force __init__ into Methods\n   - For metaclasses: allow normal descriptor-first logic\n\n2. **builtin/misc.go (exec)**: \n   - Fixed exec() to write variables back to globals dict when locals is not provided\n   - Matches Python semantics: exec(\"code\", globals) should update globals\n\n**Tests Verified:**\n- Direct class definition: __init__ called ✓  \n- Class via type(): __init__ called ✓\n- Class via exec + type(): __init__ called ✓\n- Magic methods (__add__, etc.): working ✓\n- Multiple methods per class: working ✓\n- Metaclasses (ABCMeta): working correctly ✓\n- Module imports (os, pathlib, collections): no timeout ✓\n- All 60 M28 test suite tests: passing ✓\n\n**Status:**\nCore functionality complete. Full test_class.py requires unittest module (separate issue).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-04T22:14:51.370696-08:00","updated_at":"2025-11-06T09:07:49.942021-08:00","closed_at":"2025-11-06T09:07:49.942021-08:00","dependencies":[{"issue_id":"M28-1c83","depends_on_id":"M28-877c","type":"parent-child","created_at":"2025-11-04T22:16:09.637054-08:00","created_by":"mim"}]}
{"id":"M28-1ec7","content_hash":"d7ca00634dfe8f857c42ae57a1c05bdffaab25c09e8a7b6ec11cd5899aef3d8d","title":"Arithmetic operators refactoring","description":"Unified arithmetic operator implementation:\n- Consistent type coercion\n- Protocol support (__add__, __mul__, etc.)\n- Error handling improvements\n- Support for all numeric types\n\nCompleted November 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:07:48.75214-08:00","updated_at":"2025-11-04T22:07:55.531036-08:00","closed_at":"2025-11-04T22:07:55.531036-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-225a","content_hash":"b80ea94e35b39faeab44fc2657e9bb1ab7c2f126ad8d9a795c21ce0d702d7b86","title":"MIR Phase 4: Optimization","description":"Type feedback collection, type specialization (INT/FLOAT operations), constant folding, dead code elimination, peephole optimization, inline caching. Deliverable: 3-5x speedup benchmarks","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:53.779415-08:00","updated_at":"2025-11-04T21:57:53.779415-08:00","dependencies":[{"issue_id":"M28-225a","depends_on_id":"M28-8c76","type":"blocks","created_at":"2025-11-04T21:57:53.779853-08:00","created_by":"mim"}]}
{"id":"M28-235d","content_hash":"df3a7e5e0ceef8bc1e18d8ab1b64477f3cf5c4dcb4bf90e221400ccb9a036424","title":"Fix Python function definitions with LocatedValue","description":"Python function definitions (def name(args): body) likely fail due to LocatedValue wrapping in defForm handler.\n\nExample that may fail:\n```python\ndef foo(x):\n    return x * 2\n```\n\nThe defForm handler needs to unwrap LocatedValue when processing function names and parameters.","design":"## Files to check\n- eval/util.go: DefForm handler\n- special_forms/*.go: Any def-related special forms\n\n## Fix approach\n- Unwrap function name before type assertion\n- Unwrap parameter names before processing\n- Ensure body handling preserves location for error reporting","acceptance_criteria":"- Python function definitions work\n- Function calls with defined functions work\n- Return statements inside functions work\n- Test: `def foo(): return 42` then `foo()`","status":"open","priority":0,"issue_type":"bug","created_at":"2025-11-22T14:52:23.03081-08:00","updated_at":"2025-11-22T14:52:23.03081-08:00","dependencies":[{"issue_id":"M28-235d","depends_on_id":"M28-1298","type":"blocks","created_at":"2025-11-22T14:52:23.031233-08:00","created_by":"mim"}]}
{"id":"M28-23d6","content_hash":"89e333cacafab07c133780ef24fb843504a2d83deea10ff3f8984297d7ef4130","title":"Code formatter (like gofmt/black)","description":"Implement code formatter that operates on AST","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.156067-08:00","updated_at":"2025-11-04T21:59:25.156067-08:00","dependencies":[{"issue_id":"M28-23d6","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.156523-08:00","created_by":"mim"}]}
{"id":"M28-25c9","content_hash":"8859d15027f6e56d02b2b133964dfcc400c2c318a7425b672dde88d384871e37","title":"Testing Gaps","description":"Add Go unit tests, property-based testing for parser, performance benchmarks, and documentation testing framework","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:48.989034-08:00","updated_at":"2025-11-04T21:56:48.989034-08:00"}
{"id":"M28-29b9","content_hash":"b3eb90ab0105d7fad5cc0b923e9b50791d83f997db0080e1f89099d348f04dfe","title":"decimal.Decimal type","description":"Arbitrary precision decimal arithmetic.\nAvoids floating-point rounding errors for financial calculations.\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:47.181734-08:00","updated_at":"2025-11-04T22:06:54.315933-08:00","closed_at":"2025-11-04T22:06:54.315933-08:00","labels":["completed-2024","data-types","stdlib"]}
{"id":"M28-2cc6","content_hash":"994bd07d9669e1216c50db607a2a028c09069ec6154c06d2027b01f8f2734a04","title":"Python Module Auto-Transpiling Phase 2: Caching","description":"Disk cache with hash-based invalidation (~/.m28/cache/python/), cache metadata (source path, timestamp, hash), performance optimization","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:33.24953-08:00","updated_at":"2025-11-04T21:57:33.24953-08:00","dependencies":[{"issue_id":"M28-2cc6","depends_on_id":"M28-93a3","type":"blocks","created_at":"2025-11-04T21:57:33.24996-08:00","created_by":"mim"}]}
{"id":"M28-2d6f","content_hash":"0bb487e46a5d571edf6a433cd0296de0ff0dd16df2e0cbb9bbc74e0e0d0325d3","title":"Developer Experience \u0026 Tooling","description":"LSP implementation, development tools (formatter, linter, doc generator, syntax highlighting, debug adapter), and package management","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:49.106764-08:00","updated_at":"2025-11-04T21:56:49.106764-08:00"}
{"id":"M28-2f47","content_hash":"6edacefa922da45e958887cb19f53e970d9efc700b759a58a34b0b5d51797825","title":"Document LocatedValue unwrapping pattern for future development","description":"After fixing LocatedValue unwrapping issues, document the pattern and best practices to prevent future bugs.\n\nDocumentation should cover:\n1. Why LocatedValue wrapping exists (error location tracking)\n2. Where unwrapping is needed (special forms, type assertions)\n3. Standard unwrap pattern to use\n4. How to test for LocatedValue issues\n5. Examples of correct implementations","design":"## Documentation locations\n- Add to docs/development/error-handling.md\n- Add comments to core/located_value.go\n- Add examples to special form template/guide\n- Update CONTRIBUTING.md with unwrap pattern\n\n## Include code examples\n```go\n// Always unwrap before type assertions\nfunc mySpecialForm(args *core.ListValue, ctx *core.Context) (core.Value, error) {\n    target := unwrapLocated(args.Items()[0])\n    switch t := target.(type) {\n    case core.SymbolValue:\n        // handle symbol\n    }\n}\n```","acceptance_criteria":"- Documentation file created or updated\n- Code comments added to key files\n- Pattern clearly explained with examples\n- Runbook for debugging LocatedValue issues","status":"open","priority":2,"issue_type":"chore","created_at":"2025-11-22T14:52:44.621047-08:00","updated_at":"2025-11-22T14:52:44.621047-08:00","dependencies":[{"issue_id":"M28-2f47","depends_on_id":"M28-fc42","type":"blocks","created_at":"2025-11-22T14:52:44.621475-08:00","created_by":"mim"}]}
{"id":"M28-3039","content_hash":"3ce6880cc29e983c397b12a123a4811faea6cd438b954d17634bac455e21ad52","title":"Numeric dunder methods: __trunc__, __floor__, __ceil__","description":"Implement __trunc__, __floor__, __ceil__ for truncation/rounding operations","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.551856-08:00","updated_at":"2025-11-04T21:58:58.551856-08:00","dependencies":[{"issue_id":"M28-3039","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.552354-08:00","created_by":"mim"}]}
{"id":"M28-31e2","content_hash":"def7dd6983f99300d8440525071e3f18c041558842d0f9e13035dd4b7f42e92a","title":"Standard Library Modules","description":"Implementation of Python standard library modules including os, json, time, datetime, pathlib, random, shutil, math, collections, itertools, functools, operator, copy, and heapq","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:27.798627-08:00","updated_at":"2025-11-04T21:56:27.798627-08:00"}
{"id":"M28-32c7","content_hash":"c36cdd4d8b25671f45e549a2b81d199121e6408aaeb717c09e85a8dfcfb1b322","title":"__matmul__ and related matrix multiplication dunder methods","description":"Implement __matmul__, __rmatmul__, __imatmul__ for matrix multiplication (@) operator","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.515305-08:00","updated_at":"2025-11-04T21:58:58.515305-08:00","dependencies":[{"issue_id":"M28-32c7","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.515768-08:00","created_by":"mim"}]}
{"id":"M28-377f","content_hash":"44369d8288ffae3a402b881794b65c4366dcbebfe5529a4151ddd8ea2d3fb172","title":"Python Dunder Methods Implementation","description":"Implementation of missing Python dunder methods across different priority levels: high priority (attribute access, type conversion), medium priority (object lifecycle, numeric protocol, sequence protocol, descriptors, copy protocol), and low priority (async protocol, pickle protocol, metaclass protocol, buffer protocol)","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:48.921133-08:00","updated_at":"2025-11-04T21:56:48.921133-08:00"}
{"id":"M28-38ee","content_hash":"df1548ef23e752337fae8827930b006cdd49eae3808d33790a46f7a3ebbf9e87","title":"Run CPython grammar test and categorize remaining failures","description":"After fixing LocatedValue unwrapping in special forms, run the full CPython grammar test to identify remaining categories of failures.\n\nTest file: /Users/mim/src/m28/tests/cpython/test_grammar.py\n\nExpected categories to check:\n1. Literals (int, float, string, etc.)\n2. Variables and assignment  \n3. Operators (arithmetic, comparison, logical)\n4. Control flow (if/elif/else, for, while)\n5. Functions (def, lambda, calls, decorators)\n6. Classes (class definition, methods, inheritance)\n7. Data structures (lists, dicts, sets, tuples)\n8. Comprehensions (list, dict, set, generator)\n9. Exception handling (try/except/finally)\n10. Imports and modules\n11. Advanced features (generators, with statements, async/await)","design":"## Execution Plan\n\n1. Run test: `./bin/m28 tests/cpython/test_grammar.py 2\u003e\u00261 | tee grammar_test_results.txt`\n2. Parse output to identify which sections pass/fail\n3. For each failing section, identify the specific error\n4. Create targeted beads for each failure category\n5. Prioritize by impact (P0 for core features, P2 for advanced)","acceptance_criteria":"- Full test output captured\n- Failure categories documented\n- Beads created for each category needing fixes\n- Pass/fail status for each grammar section known","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-22T14:52:07.758406-08:00","updated_at":"2025-11-22T14:52:07.758406-08:00","dependencies":[{"issue_id":"M28-38ee","depends_on_id":"M28-1298","type":"blocks","created_at":"2025-11-22T14:52:07.758871-08:00","created_by":"mim"},{"issue_id":"M28-38ee","depends_on_id":"M28-fc42","type":"blocks","created_at":"2025-11-22T14:52:22.941903-08:00","created_by":"mim"}]}
{"id":"M28-3a7b","content_hash":"4ef05d56bc547f78f328ac4dddcec32d2d655bb89ebd54903a8f5cdad58adfba","title":"Fix import system to support package.submodule imports","description":"M28's import system currently doesn't support importing submodules from packages:\n- `from unittest import mock` fails with \"cannot import name 'mock' from 'unittest'\"\n- `import unittest.mock` doesn't work\n- CPython has /unittest/mock.py but M28 can't import it as submodule\n\nThis is blocking multiple CPython regression tests including test_int.py, test_augassign.py, test_dictcomps.py, and others that depend on unittest.mock or other package submodules.\n\nRoot cause: Need to enhance import system in eval/import.go to:\n1. Detect when importing from a package (directory with __init__.py)\n2. Load submodule .py files within that package\n3. Support both `import pkg.submod` and `from pkg import submod` syntax\n4. Handle nested packages correctly","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-20T12:42:16.317451-08:00","updated_at":"2025-11-20T12:58:58.116192-08:00","closed_at":"2025-11-20T12:58:58.116192-08:00","dependencies":[{"issue_id":"M28-3a7b","depends_on_id":"M28-877c","type":"blocks","created_at":"2025-11-20T12:42:16.318304-08:00","created_by":"mim"}]}
{"id":"M28-3b23","content_hash":"f900abc3aae7a37b8525dac36c876ce75c4cdaf0f7682d19d05c45c40d147eb5","title":"Python Module Auto-Transpiling Phase 3: Package Support","description":"__init__.py handling, submodule imports (unittest.mock), relative imports, package vs module detection","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:33.281835-08:00","updated_at":"2025-11-04T21:57:33.281835-08:00","dependencies":[{"issue_id":"M28-3b23","depends_on_id":"M28-93a3","type":"blocks","created_at":"2025-11-04T21:57:33.282281-08:00","created_by":"mim"}]}
{"id":"M28-3ef5","content_hash":"fde51904a735116613eddc718827c24b84fe1f484349f19373409c0604d3a7f5","title":"AST Layer for Multiple Frontend Support","description":"Foundation work enabling multiple frontend languages (Python, DSLs) to share M28's runtime. Three-layer architecture: Frontend → AST → IR → Evaluator. See docs/design/ast-ir-multiple-frontends.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T21:56:27.869914-08:00","updated_at":"2025-11-04T21:56:27.869914-08:00"}
{"id":"M28-4215","content_hash":"660da4954f10da0009f65e2aadfb8d5e126be2212322ad5438b041f590ef6af3","title":"Implement async/await syntax for asynchronous programming","description":"Add Python async/await syntax support for asynchronous programming:\n- async def for coroutine definitions\n- await expressions\n- async with for async context managers\n- async for for async iterators\n- Integration with event loop\n- asyncio module compatibility","design":"## Implementation approach:\n1. Parser support for async/await keywords (already exist as tokens)\n2. AST nodes for async constructs\n3. Coroutine protocol implementation\n4. Event loop integration\n5. asyncio module support\n\n## Related issues:\n- M28-e200 (Async protocol dunder methods)","acceptance_criteria":"- async def creates coroutine functions\n- await expressions work in async contexts\n- async with and async for work correctly\n- Compatible with Python's asyncio module\n- Tests verify async behavior","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-22T13:14:36.919377-08:00","updated_at":"2025-11-22T13:14:36.919377-08:00"}
{"id":"M28-4250","content_hash":"63f612743ff9a548ca955f3d214a71a220bfdca85262f5e54f8ce9383b506653","title":"LSP: Basic implementation","description":"Implement basic Language Server Protocol support (foundation with AST)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:24.954263-08:00","updated_at":"2025-11-04T21:59:24.954263-08:00","dependencies":[{"issue_id":"M28-4250","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:24.954708-08:00","created_by":"mim"}]}
{"id":"M28-4340","content_hash":"a4425759386e829dea8a6ce09d5a1a8cac190e392646ac9f47b869f87022bb68","title":"F-String enhancements (format specs, alignment, conversion flags)","description":"Complete f-string implementation with:\n- Format specifications (:d, :f, :x, etc.)\n- Alignment and padding (:\u003c, :\u003e, :^)\n- Conversion flags (!r, !s, !a)\n- Self-documenting expressions (f\"{x=}\")\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:26.211846-08:00","updated_at":"2025-11-04T22:06:31.021738-08:00","closed_at":"2025-11-04T22:06:31.021738-08:00","labels":["completed-2024","language-feature"]}
{"id":"M28-438b","content_hash":"b42d12730456651100d3c1f6bfaa61537783d0e53a86795393d6131f898d7adc","title":"Iterator Protocol (__iter__, __next__)","description":"Python iterator protocol implementation:\n- __iter__ returns iterator object\n- __next__ advances and returns next value\n- StopIteration exception handling\n\nCompleted October 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:47.261439-08:00","updated_at":"2025-11-04T22:06:54.386322-08:00","closed_at":"2025-11-04T22:06:54.386322-08:00","labels":["completed-2024","protocols"]}
{"id":"M28-45c3","content_hash":"f0291fb30c033a7ac4cac0f358a93e7655b5291c9c429819a3cdc3669fec7ed6","title":"Dictionary and set comprehensions","description":"Implemented dict and set comprehensions:\n- {k: v for k, v in items}\n- {x for x in iterable}\n\nCompletes Python comprehension syntax support.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:04.349661-08:00","updated_at":"2025-11-04T22:06:11.110904-08:00","closed_at":"2025-11-04T22:06:11.110904-08:00","labels":["completed-2024","language-feature"]}
{"id":"M28-466b","content_hash":"067aa1ac58660ab078a748ce0b63bae56c6e8e9a5690919735920707260d85b8","title":"Error Messages \u0026 Developer Experience","description":"Improvements to error messages including parser errors with source locations, context-aware error reporting, stack traces with function names, and did you mean suggestions","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:27.833884-08:00","updated_at":"2025-11-04T21:56:27.833884-08:00"}
{"id":"M28-4774","content_hash":"1446b47b807d9d7f79ea7de093271f973afd2cfc4f76deddac4918464abf5afe","title":"Add source location propagation through runtime evaluation","description":"Propagate source locations from AST through evaluation for runtime errors:\n- Ensure AST nodes preserve source location\n- Pass location context to eval functions\n- Attach source location to runtime errors (NameError, TypeError, etc.)\n- Display source context for runtime errors\n- Integrate with stack traces","design":"## Approach:\n1. AST nodes already have location info - ensure it's preserved\n2. LocatedValue can wrap runtime values\n3. When creating runtime errors, extract location from current AST node\n4. ErrorReporter.showSourceContext() already exists, ensure it's used\n\n## Files to modify:\n- eval/eval.go (preserve location context)\n- core/error.go (ensure location in all error types)\n- parser/python_parser.go (ensure AST has locations)","acceptance_criteria":"- Runtime NameError shows source line\n- Runtime TypeError shows source line\n- AttributeError, KeyError show context when possible\n- Stack traces include file:line:column\n- Tests verify location accuracy","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-22T13:12:31.167042-08:00","updated_at":"2025-11-22T14:46:04.136094-08:00","closed_at":"2025-11-22T14:46:04.136094-08:00"}
{"id":"M28-47d1","content_hash":"56c2f51703347016fb1fe35b176324c67fdc3796ebe1ed39ca564ad3707d2ab8","title":"General decorator system for functions","description":"Implement general decorator system for functions (not just macros). Decorator with @ syntax already implemented for macros","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:57:11.236859-08:00","updated_at":"2025-11-04T21:57:11.236859-08:00","dependencies":[{"issue_id":"M28-47d1","depends_on_id":"M28-8944","type":"blocks","created_at":"2025-11-04T21:57:11.237307-08:00","created_by":"mim"}]}
{"id":"M28-4d6f","content_hash":"fb05fcbd8f0425521522af882692052128462efc9fca8a2723104caa3572d94e","title":"__missing__ dunder method","description":"Implement __missing__ for dict subclasses when key not found","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.585566-08:00","updated_at":"2025-11-04T21:58:58.585566-08:00","dependencies":[{"issue_id":"M28-4d6f","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.586019-08:00","created_by":"mim"}]}
{"id":"M28-4ee8","content_hash":"72d9c86af5c13207c51410d5db7a5086ffcd6b11f95a9d9d7653a4636ab497a4","title":"MIR Phase 3: VM Implementation","description":"Complete opcode dispatch (all 200+ opcodes), stack frame management, variable lookup, function call mechanism, exception handling, generator support, context manager support, debug support. Deliverable: Execute all compiled programs","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:53.734348-08:00","updated_at":"2025-11-04T21:57:53.734348-08:00","dependencies":[{"issue_id":"M28-4ee8","depends_on_id":"M28-8c76","type":"blocks","created_at":"2025-11-04T21:57:53.734908-08:00","created_by":"mim"}]}
{"id":"M28-5006","content_hash":"8ccc690a4b2c9a2f5f8fe6ef6d9bba15acf53e6622a0f3f4f0f9891f96c95a3c","title":"__length_hint__ dunder method","description":"Implement __length_hint__ for length hint optimization","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.623602-08:00","updated_at":"2025-11-04T21:58:58.623602-08:00","dependencies":[{"issue_id":"M28-5006","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.624096-08:00","created_by":"mim"}]}
{"id":"M28-516c","content_hash":"8238f340ba26f94fa0bae534c0df4512544f87ef1ec41722c3513a75af61e3f3","title":"Visitor pattern for AST","description":"Implement visitor pattern for AST traversal","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-04T21:58:35.573912-08:00","updated_at":"2025-11-04T21:58:35.573912-08:00","dependencies":[{"issue_id":"M28-516c","depends_on_id":"M28-a420","type":"blocks","created_at":"2025-11-04T21:58:35.574333-08:00","created_by":"mim"}]}
{"id":"M28-5188","content_hash":"0e033dc7005b0ddbe3d745f9105096eb5b163f114f177043e4edbd66f12040a0","title":"Package manager","description":"Implement package manager with dependency resolution and semantic versioning support","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-04T21:59:25.293386-08:00","updated_at":"2025-11-04T21:59:25.293386-08:00","dependencies":[{"issue_id":"M28-5188","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.293817-08:00","created_by":"mim"}]}
{"id":"M28-532e","content_hash":"4221a6f5e0df95ed8b0a428605989d58a3aef55a9497f5ef32164b837b7c389c","title":"Attribute functions refactoring (getattr, setattr, hasattr, delattr)","description":"Unified attribute access implementation:\n- getattr(), setattr(), hasattr(), delattr()\n- Support for __getattr__, __setattr__, __delattr__ protocols\n- Consistent error handling\n- Descriptor protocol support\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:07:48.826969-08:00","updated_at":"2025-11-04T22:07:55.600298-08:00","closed_at":"2025-11-04T22:07:55.600298-08:00","labels":["completed-2025-01","refactoring"]}
{"id":"M28-5371","content_hash":"317fc75ad76cde60165b4906975850aa03c59816cdabe85799b539db51ce840e","title":"LSP: Find references","description":"Implement find references using AST traversal","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.02308-08:00","updated_at":"2025-11-04T21:59:25.02308-08:00","dependencies":[{"issue_id":"M28-5371","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.02354-08:00","created_by":"mim"}]}
{"id":"M28-5695","content_hash":"918491a6a65140bd06878e03205dcf59ab5763864f5e1da45c6bb3fc1e7e5cb1","title":"Fix Python control flow (if/for/while) with LocatedValue","description":"Python control flow statements (if/elif/else, for, while) likely fail due to LocatedValue wrapping.\n\nExamples that may fail:\n```python\nif x \u003e 0:\n    print(\"positive\")\n\nfor i in [1, 2, 3]:\n    print(i)\n\nwhile x \u003c 10:\n    x += 1\n```\n\nControl flow handlers need to unwrap LocatedValue when processing conditions and loop variables.","design":"## Files to check\n- eval/util.go or special_forms/: ifForm, forForm, whileForm\n- Check condition evaluation and loop variable handling\n\n## Fix approach\n- Unwrap conditions before evaluation\n- Unwrap loop variables before binding\n- Ensure nested blocks preserve location","acceptance_criteria":"- If statements work with conditions\n- For loops work with iterables  \n- While loops work with conditions\n- Nested control flow works","status":"open","priority":0,"issue_type":"bug","created_at":"2025-11-22T14:52:23.101549-08:00","updated_at":"2025-11-22T14:52:23.101549-08:00","dependencies":[{"issue_id":"M28-5695","depends_on_id":"M28-1298","type":"blocks","created_at":"2025-11-22T14:52:23.101992-08:00","created_by":"mim"}]}
{"id":"M28-571c","content_hash":"181172bdd38afcaadc6de8c10e4017cb9201efd101de05be99d51c99446d2766","title":"Python Language Reference Compliance P1","description":"Additional Python language features:\n- Annotated assignments (x: int = 5)\n- Exception chaining (raise ... from ...)\n- Starred expressions everywhere (*args, **kwargs in all contexts)\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:04.277889-08:00","updated_at":"2025-11-04T22:06:11.04136-08:00","closed_at":"2025-11-04T22:06:11.04136-08:00","labels":["completed-2025-01","python-compat"]}
{"id":"M28-5e49","content_hash":"1cd7f1c9e9c65650beb0eb24da5b9a8857407ed5d4389aa912c1c7103d44b806","title":"Type System Phase 2 (core/types.go consolidation)","description":"Major type system reorganization:\n- All type definitions in core/types.go\n- Type checking utilities consolidated\n- Protocol interface definitions\n- Type conversion helpers\n\nCompleted October 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:08:12.524039-08:00","updated_at":"2025-11-04T22:08:19.186436-08:00","closed_at":"2025-11-04T22:08:19.186436-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-60ec","content_hash":"5725734d3b0779cc1e75c92b79f699c9f8f4d41c825b7c9faa6d7688a1629c18","title":"Phase 2.5 infix operator support (full precedence)","description":"Complete infix operator implementation:\n- All Python operators with correct precedence\n- Comparison chaining: a \u003c b \u003c c\n- Boolean operators: and, or, not\n- Bitwise operators: \u0026, |, ^, ~, \u003c\u003c, \u003e\u003e\n- Augmented assignment: +=, -=, *=, etc.\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:08:28.045865-08:00","updated_at":"2025-11-04T22:08:31.760024-08:00","closed_at":"2025-11-04T22:08:31.760024-08:00","labels":["completed-2025-01","parser"]}
{"id":"M28-686a","content_hash":"f830c444ae5fb65a16d633ccd676c7d6baec34bd350f401e6d75306278228379","title":"Type conversion functions refactoring","description":"Consolidated type conversion builtins:\n- int(), float(), str(), bool(), list(), dict(), set(), tuple()\n- Consistent error messages\n- Protocol support (__int__, __float__, __str__, etc.)\n- Validation and edge cases\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:07:48.790647-08:00","updated_at":"2025-11-04T22:07:55.56545-08:00","closed_at":"2025-11-04T22:07:55.56545-08:00","labels":["completed-2025-01","refactoring"]}
{"id":"M28-6927","content_hash":"0d58962330778943d9d4891a4e765750e141096a979bae7d9284c7f83c67d74a","title":"Enhanced error messages with source locations","description":"Developer experience improvements:\n- Parser errors with accurate source locations (line/column)\n- Context-aware error reporting (show surrounding code)\n- \"Did you mean?\" suggestions for typos and undefined names\n- Stack traces with source context\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:07:15.223454-08:00","updated_at":"2025-11-04T22:07:19.532748-08:00","closed_at":"2025-11-04T22:07:19.532748-08:00","labels":["completed-2025-01","dx","error-handling"]}
{"id":"M28-6a46","content_hash":"3f3f6cad59b09e7e971db928bd5b7f7d27b627e44d5744ede2d73c0e9848c62b","title":"Compiler Architecture Phase 6: WASM Backend","description":"Implement HIR → WASM lowering, build WASM runtime bindings, browser deployment, WASI support. Deliverable: Browser demo, WASI support for server deployment","design":"Web and portable deployment. Timeline: 3-6 months (Future). See docs/design/compiler-architecture.md Phase 6","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-04T21:58:16.070832-08:00","updated_at":"2025-11-04T21:58:16.070832-08:00","dependencies":[{"issue_id":"M28-6a46","depends_on_id":"M28-b5c6","type":"blocks","created_at":"2025-11-04T21:58:16.071262-08:00","created_by":"mim"}]}
{"id":"M28-6b18","content_hash":"a75506ba1ed94fe540a5f13f0923af8d8d32812480a09b8e6af5a87eff2ed1ec","title":"Record Stream \u0026 JSON Processing functions","description":"Comprehensive data processing toolkit:\n- Path-based access: get-path, set-path, update-path, has-path?\n- Record operations: select-keys, rename-keys, map-keys, map-values, filter-keys, filter-values\n- Deep merge: merge, deep-merge, merge-with\n- JSONL streaming: parse-jsonl-line, format-jsonl-line, read-jsonl, write-jsonl, append-jsonl-line\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:26.288463-08:00","updated_at":"2025-11-04T22:06:31.10149-08:00","closed_at":"2025-11-04T22:06:31.10149-08:00","labels":["completed-2025-01","data-processing"]}
{"id":"M28-6c8b","content_hash":"58d8f3cf10dbb078e4e9729fb65325672c75a1711cc44ba5da5900f642cf8827","title":"S-String implementation (shell command strings)","description":"S-strings for shell command execution: s\"ls -la {path}\"\nSafe interpolation and execution of shell commands.\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:26.252486-08:00","updated_at":"2025-11-04T22:06:31.066119-08:00","closed_at":"2025-11-04T22:06:31.066119-08:00","labels":["completed-2024","language-feature"]}
{"id":"M28-6ca6","content_hash":"fe0f6c68848e148fa5cf60ded91bec48da13c341fd98ab15b264ec8ec1000f16","title":"Fix exception variable binding in except clauses","description":"Exception variables defined with 'as exc' in except clauses are not properly bound, causing NameError.\n\nExample that fails:\n```python\ntry:\n    raise TypeError\nexcept TypeError as exc:\n    x = exc.__traceback__  # NameError: name 'exc' is not defined\n```\n\nThis blocks importing types.py from CPython stdlib (line 55), which blocks many other modules.\n\nImpact: Cannot import types module, blocks functools, re, pathlib, and many other stdlib modules.","design":"## Root Cause\n\nIn eval/evaluator.go tryForm (lines 1656-1722), except clause parsing doesn't unwrap LocatedValues before type assertions, causing:\n- secondElem at line 1656 not unwrapped\n- Items()[2] and [3] for \"as\" syntax not unwrapped (lines 1697, 1699)\n- Tuple exception types not unwrapped (line 1660)\n\n## Fixes Needed\n\n1. Line 1656: Unwrap secondElem\n2. Line 1660: Unwrap tuple items\n3. Line 1671: Unwrap asSym for tuple case  \n4. Line 1672: Unwrap varSym for tuple case\n5. Line 1686: Unwrap varSym for catch-all case\n6. Line 1697: Unwrap asSym for single type case\n7. Line 1699: Unwrap varSym for single type case\n8. Line 1708: Unwrap varSym for legacy case\n\n## Test\nCreate test that matches types.py pattern:\n```python\ntry:\n    raise TypeError\nexcept TypeError as exc:\n    x = exc.__traceback__\n```","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-23T07:24:04.191361-08:00","updated_at":"2025-11-23T07:28:17.904344-08:00","closed_at":"2025-11-23T07:28:17.904344-08:00"}
{"id":"M28-6caa","content_hash":"fba2be7569e188fa4c75b7c24a8c5fb06964a6abfaba8287c891602cc492f861","title":"__set_name__ dunder method","description":"Implement __set_name__ for descriptor name binding","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.659766-08:00","updated_at":"2025-11-04T21:58:58.659766-08:00","dependencies":[{"issue_id":"M28-6caa","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.6602-08:00","created_by":"mim"}]}
{"id":"M28-6f10","content_hash":"5751a2d2499adcd0eb0232dc0e87454ef63a123950f248a2e8343fee89161043","title":"Python Language Reference Compliance P0","description":"Critical Python language features for full compliance:\n- global and nonlocal statements\n- Walrus operator (:=) semantics\n- del statement\n- Complete dunder method support (__init__, __str__, __repr__, __eq__, __hash__, etc.)\n- Descriptors protocol (__get__, __set__, __delete__)\n\nCompleted January 2025.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-04T22:06:04.241084-08:00","updated_at":"2025-11-04T22:06:11.002878-08:00","closed_at":"2025-11-04T22:06:11.002878-08:00","labels":["completed-2025-01","python-compat"]}
{"id":"M28-6f4b","content_hash":"2fd5e4417f90f8552bcae4373997e519519aba5975a5a5c0428382230d8f39e6","title":"Complete ssl module stub with missing SSL exception classes","description":"The ssl module stub in M28 is incomplete and missing SSL exception classes that are needed by asyncio.sslproto, which is imported by unittest.mock.\n\nMissing from ssl module:\n- SSLWantReadError\n- SSLWantWriteError  \n- SSLSyscallError\n- SSLEOFError\n- SSLZeroReturnError\n- SSLError (base class)\n\nThese are needed for:\n- asyncio.sslproto (imported by asyncio)\n- unittest.mock (imports asyncio)\n- CPython regression tests (test_int.py and others)\n\nCurrent error when importing unittest.mock:\n\"'module' object has no attribute 'SSLWantReadError'\"\n\nThe ssl stub should include all standard SSL exception classes from Python's ssl module to support the stdlib dependency chain.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-20T13:02:10.794094-08:00","updated_at":"2025-11-20T13:02:10.794094-08:00","dependencies":[{"issue_id":"M28-6f4b","depends_on_id":"M28-877c","type":"blocks","created_at":"2025-11-20T13:02:10.794556-08:00","created_by":"mim"}]}
{"id":"M28-72da","content_hash":"6310bb3a712b3d4ef18f15bcc9778e97eb5bd5ba7e44046b84d051377ecb93b4","title":"Container protocol __len__ and __contains__ checks","description":"Add container protocol __len__ and __contains__ checks (core/protocols/container.go:176)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:35.509802-08:00","updated_at":"2025-11-04T21:58:35.509802-08:00","dependencies":[{"issue_id":"M28-72da","depends_on_id":"M28-897c","type":"blocks","created_at":"2025-11-04T21:58:35.510397-08:00","created_by":"mim"}]}
{"id":"M28-7329","content_hash":"57aefde8ce9f11a366e58e18bcf9ef8f643fe887fcd50cae20237ae5715b639e","title":"Break down large functions (LoadModule, FormatDocEntry, Repr)","description":"Refactoring large functions (100+ lines) into smaller, testable units:\n- LoadModule() broken into import helpers\n- FormatDocEntry() split into formatting components\n- Repr() split by type-specific logic\n\nImproves code maintainability and testability.\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:07:48.668855-08:00","updated_at":"2025-11-04T22:07:55.456279-08:00","closed_at":"2025-11-04T22:07:55.456279-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-74c9","content_hash":"33a9f06e7a4b802a9fddd5bb5187960a1fa0db2f411c2cf3899640f05621be0a","title":"MIR Phase 2: Compiler Implementation","description":"Expression compilation, control flow compilation, function definition compilation, function call compilation, closure support, constant pool management, name table management, source location tracking. Deliverable: Compile fibonacci, factorial, list comprehensions","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:53.698761-08:00","updated_at":"2025-11-04T21:57:53.698761-08:00","dependencies":[{"issue_id":"M28-74c9","depends_on_id":"M28-8c76","type":"blocks","created_at":"2025-11-04T21:57:53.699207-08:00","created_by":"mim"}]}
{"id":"M28-7828","content_hash":"0c83c930da0b2597880c23ed4eb2635dd4d2840e25df8dfc4e09424fb6c034cc","title":"MIR Phase 1: Core Infrastructure","description":"Define instruction set (200+ opcodes), create instruction and BytecodeChunk types, implement register allocator, basic compiler scaffold, basic VM scaffold, unit tests. Deliverable: Compile and execute simple expressions","design":"Week 1-2: Constants, variables, arithmetic (generic + specialized), comparisons, control flow, function calls, object access, collection building, type guards, exception handling","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:53.66098-08:00","updated_at":"2025-11-04T21:57:53.66098-08:00","dependencies":[{"issue_id":"M28-7828","depends_on_id":"M28-8c76","type":"blocks","created_at":"2025-11-04T21:57:53.661572-08:00","created_by":"mim"}]}
{"id":"M28-7886","content_hash":"b1689fa0071fbd42b1b1f6eb86a3a6bab55d7bbed98c3a8ca061ea05afd3d4f5","title":"Standardize error handling patterns","description":"Define clear error types in core/error.go and use consistent error wrapping throughout","status":"open","priority":2,"issue_type":"chore","created_at":"2025-11-04T21:58:35.672017-08:00","updated_at":"2025-11-04T21:58:35.672017-08:00","dependencies":[{"issue_id":"M28-7886","depends_on_id":"M28-a420","type":"blocks","created_at":"2025-11-04T21:58:35.672438-08:00","created_by":"mim"}]}
{"id":"M28-78b7","content_hash":"1202bee26670a10af8210c0f312c6f82320cfd19f4420700666fd840971f861a","title":"AST Layer for Multiple Frontend Support","description":"Three-phase implementation of AST infrastructure:\n- Phase 1: Core AST Infrastructure (2024-11)\n- Phase 2: Parser Refactoring (2024-11)\n- Phase 3: Enhanced Error Messages (2024-12)\n\nEnables multiple language frontends to target the same M28 backend.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-04T22:05:16.617213-08:00","updated_at":"2025-11-04T22:05:48.389805-08:00","closed_at":"2025-11-04T22:05:48.389805-08:00","labels":["architecture","completed-2024"]}
{"id":"M28-7989","content_hash":"956a5d16508ce3c1ed37e245be55b34e45eed0d6c0eda34592158a5c0ad01527","title":"eval() and exec() builtins","description":"Implement eval() and exec() builtins for dynamic code execution","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:57:11.269042-08:00","updated_at":"2025-11-04T21:57:11.269042-08:00","dependencies":[{"issue_id":"M28-7989","depends_on_id":"M28-8944","type":"blocks","created_at":"2025-11-04T21:57:11.26945-08:00","created_by":"mim"}]}
{"id":"M28-79b0","content_hash":"db470811aa892006db02a085227d40c64fe72b6f61546234d57e073d87bb5d73","title":"Implement metaclass method copying for ABCMeta","description":"M28's metaclass support is incomplete. When a class is defined with metaclass=ABCMeta (or any metaclass), methods defined in the metaclass should be copied to the created class as classmethods. Currently, the code in eval/class_forms.go attempts this (lines 856-901) but it doesn't work properly for Python-defined metaclasses like ABCMeta.\n\nIssue: Classes created with metaclass=ABCMeta don't get the register() classmethod, causing \"_collections_abc cannot import\" errors.\n\nImpact: Prevents importing _collections_abc and other ABC-dependent modules from CPython's stdlib.","design":"## Current State\neval/class_forms.go lines 856-901 attempts to copy methods from metaclass to class:\n- Checks metaclass.Methods dict\n- Checks metaclass.Attributes dict  \n- Creates bound class methods via createBoundClassMethod()\n\n## Problem\nWhen ABCMeta is loaded from CPython's abc.py, its methods (like register) aren't accessible via metaclass.Methods or metaclass.Attributes in a way that M28 can copy them.\n\n## Solution Approaches\n1. **Fix method discovery**: Improve how M28 discovers methods in Python-defined metaclasses\n2. **Call metaclass.__new__ properly**: Ensure metaclass.__new__ is actually invoked and can modify the class\n3. **Improve Class.GetAttr**: Make sure metaclass methods are available via GetAttr on the class\n\n## Testing\n- Test with ABCMeta.register()\n- Test with custom metaclasses\n- Verify _collections_abc imports successfully","acceptance_criteria":"- Classes defined with metaclass=ABCMeta have access to register() method\n- _collections_abc.py imports successfully\n- File I/O tests pass (they depend on _collections_abc)\n- Custom metaclasses work: methods defined in metaclass are available on subclasses","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-22T18:14:56.180753-08:00","updated_at":"2025-11-23T06:46:43.945494-08:00","closed_at":"2025-11-23T06:46:43.945494-08:00"}
{"id":"M28-7cab","content_hash":"89f4ae644d30da6e3ddb7790d3e69ad22c7adb7154963b49b035fc272578a701","title":"Buffer protocol dunder methods","description":"Implement __buffer__ and __release_buffer__ for low-level buffer protocol support (low priority - future)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-04T21:58:58.840042-08:00","updated_at":"2025-11-04T21:58:58.840042-08:00","dependencies":[{"issue_id":"M28-7cab","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.84049-08:00","created_by":"mim"}]}
{"id":"M28-7d53","content_hash":"894284e97e63c1cd68f372fbcdd87d6c5c49913f3ac07e884588c461b47ea2e5","title":"Python Compatibility Improvements","description":"Fix parser bugs and add missing Python features to increase real-world compatibility. See docs/PYTHON_COMPATIBILITY_PLAN.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T21:56:27.970903-08:00","updated_at":"2025-11-04T21:56:27.970903-08:00"}
{"id":"M28-7ed5","content_hash":"efeb5b751ba097d5699d7ceb1b0fa7b6fc957ae5faffd2548c80cb5126bcb730","title":"Pass CPython test_dictcomps.py regression test","description":"Ensure all tests in CPython's test_dictcomps.py pass in M28. Tests dictionary comprehensions, scope isolation, and variable shadowing.\n\nCurrent Status: 4 out of ~6 tests already passing! Only blocked by unittest.main() exception.\n\nFile: /Users/mim/.pyenv/versions/3.12.0/lib/python3.12/test/test_dictcomps.py (132 lines)\n\nTests include:\n- Basic dict comprehensions: {k: v for k in range(10)}\n- Nested comprehensions with filters\n- Scope isolation (loop variable doesn't leak)\n- Global variable shadowing in comprehensions","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-07T07:11:42.692366-08:00","updated_at":"2025-11-07T07:11:42.692366-08:00","dependencies":[{"issue_id":"M28-7ed5","depends_on_id":"M28-877c","type":"blocks","created_at":"2025-11-07T07:11:42.693158-08:00","created_by":"mim"},{"issue_id":"M28-7ed5","depends_on_id":"M28-e4b4","type":"blocks","created_at":"2025-11-07T07:11:42.693673-08:00","created_by":"mim"}]}
{"id":"M28-7f3e","content_hash":"9cb9edd91593774d3738dccf56108475b76a43c5d6029ca77c5bfefc1331a4a4","title":"Macro System with @macro decorator, quasiquote, and reader macros","description":"Complete macro system implementation including:\n- Phase 1: @macro decorator implementation\n- Phase 2: Quasiquote/unquote system (`x and ,x and ,@xs)\n- Phase 3: Built-in utility macros (unless, when, -\u003e, -\u003e\u003e)\n- Phase 4: Reader macro syntax (backtick, comma, comma-at)\n\nEnables powerful metaprogramming capabilities in M28.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-04T22:05:16.581222-08:00","updated_at":"2025-11-04T22:05:48.345385-08:00","closed_at":"2025-11-04T22:05:48.345385-08:00","labels":["completed-2025-01","language-feature"]}
{"id":"M28-81bb","content_hash":"5b1050fd162a6043cb87116173dc6d3ecb59be68d16be6aa40543c0692ed3fa7","title":"LSP: Hover documentation","description":"Implement hover documentation from docstrings in AST","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.057846-08:00","updated_at":"2025-11-04T21:59:25.057846-08:00","dependencies":[{"issue_id":"M28-81bb","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.058266-08:00","created_by":"mim"}]}
{"id":"M28-83ab","content_hash":"35dfd93ace6d673caab8576357d9d27eda2c3869271475c433eeee45fa7d4dd9","title":"Metaclass protocol dunder methods","description":"Implement __prepare__, __init_subclass__, __mro_entries__, __class_getitem__ for advanced metaclass features (low priority - future)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-04T21:58:58.803526-08:00","updated_at":"2025-11-04T21:58:58.803526-08:00","dependencies":[{"issue_id":"M28-83ab","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.804132-08:00","created_by":"mim"}]}
{"id":"M28-84d4","content_hash":"adc5f03b7862b11d48c4be1cd757227474549cadd08dcaff70a7b370b9b91ba9","title":"Container Protocol implementation (__len__, __iter__, __contains__)","description":"Complete container protocol support:\n- __len__ for length operations\n- __iter__ for iteration\n- __contains__ for membership testing (in operator)\n- __getitem__, __setitem__, __delitem__ for indexing\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:47.222281-08:00","updated_at":"2025-11-04T22:06:54.350375-08:00","closed_at":"2025-11-04T22:06:54.350375-08:00","labels":["completed-2024","protocols"]}
{"id":"M28-858d","content_hash":"fb3bbfeb86a153b19c0125cb5048ceab6ae8472f0461c6505d2c14ca90b49ca1","title":"Integrate ErrorFormatter into main.go execution paths","description":"Update main.go to use ErrorFormatter for all error display:\n- Create ErrorFormatter in main()\n- Register source code for all execution paths (-e, -c, files)\n- Use formatter for parse, tokenization, and runtime errors\n- Ensure consistent error display across all entry points\n- Preserve stack traces for runtime errors","design":"## Integration points in main.go:\n1. evalExpr path - register source as \"\u003ccommand-line\u003e\"\n2. command path - register source as \"\u003ccommand-line\u003e\"\n3. executeFile path - register source with filename\n4. handleError() - use ErrorFormatter\n\n## Files to modify:\n- main.go (add ErrorFormatter integration)\n- repl/error_reporter.go (integrate with ErrorFormatter)","acceptance_criteria":"- All errors show source context when available\n- Format is consistent across -e, -c, and file execution\n- No regression in existing error handling\n- Stack traces still shown for runtime errors\n- Colors work in terminal, disabled in non-TTY","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-22T13:12:31.102051-08:00","updated_at":"2025-11-22T13:57:23.596878-08:00","closed_at":"2025-11-22T13:57:23.596878-08:00","dependencies":[{"issue_id":"M28-858d","depends_on_id":"M28-8cf2","type":"blocks","created_at":"2025-11-22T13:12:39.257141-08:00","created_by":"mim"},{"issue_id":"M28-858d","depends_on_id":"M28-f2db","type":"blocks","created_at":"2025-11-22T13:12:39.312294-08:00","created_by":"mim"}]}
{"id":"M28-86f7","content_hash":"4775dfe151ccd07117b889ba460e4d2ebe22604e43bfaedab7f02749fbce5daf","title":"complex numbers data type","description":"Implement complex number data type with arithmetic operations","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:57:19.496346-08:00","updated_at":"2025-11-04T21:57:19.496346-08:00","dependencies":[{"issue_id":"M28-86f7","depends_on_id":"M28-db37","type":"blocks","created_at":"2025-11-04T21:57:19.496838-08:00","created_by":"mim"}]}
{"id":"M28-874c","content_hash":"030a77413585a4e6778b4a851ac64b6c9909291c21e593a4fa6044747f6c8ce5","title":"Fix import organization","description":"Follow Go conventions for import organization (stdlib first, then third-party)","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-04T21:58:35.705922-08:00","updated_at":"2025-11-04T21:58:35.705922-08:00","dependencies":[{"issue_id":"M28-874c","depends_on_id":"M28-a420","type":"blocks","created_at":"2025-11-04T21:58:35.706339-08:00","created_by":"mim"}]}
{"id":"M28-877c","content_hash":"1077096b0a47f59d2f2ba1053912d913622920aebc7313e46cabf4fe24ec8c2d","title":"CPython Regression Test Compliance","description":"Pass all relevant CPython regression tests to ensure full Python compatibility. Each CPython test file from the Python standard library test suite should pass in M28.","design":"Goal: Achieve compatibility with CPython by passing the official regression test suite. This ensures M28 behaves identically to CPython for all core language features.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T22:14:44.230708-08:00","updated_at":"2025-11-04T22:14:44.230708-08:00"}
{"id":"M28-8944","content_hash":"41b8cf3df70c739548866aa2d9c89a4d6a2be65c84c17ae47518c8f14ec6cd6f","title":"Language Features","description":"Core language features including macro system, record stream \u0026 JSON processing, missing Python features, Python compliance, and f-string enhancements","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T21:56:25.786825-08:00","updated_at":"2025-11-04T21:56:25.786825-08:00"}
{"id":"M28-897c","content_hash":"e6763687f67001cf662274c8c29dea458c314012fe631a78e8c94f5cda1c7532","title":"High-Impact Refactoring","description":"Break down large functions, complete type system migration, protocol wrapper implementations, and internal code refactoring","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:48.886034-08:00","updated_at":"2025-11-04T21:56:48.886034-08:00"}
{"id":"M28-8a96","content_hash":"9c2a059620ea2a7d18ae410f92e28010dacfaf165132e79c96698f0e67a48bf2","title":"LSP: Rename symbol","description":"Implement rename symbol using AST-based refactoring","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.124016-08:00","updated_at":"2025-11-04T21:59:25.124016-08:00","dependencies":[{"issue_id":"M28-8a96","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.124435-08:00","created_by":"mim"}]}
{"id":"M28-8c76","content_hash":"fc708e7c62d98052c0d8f482652f6ddce2ae5b4854e252d426ab4878a732141c","title":"MIR Bytecode VM","description":"Mid-Level IR bytecode virtual machine as intermediate execution tier between tree-walking interpreter and future native compilation (LLVM/WASM). Expected 3-10x performance improvement. See docs/design/mir-bytecode-vm.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T21:56:49.020448-08:00","updated_at":"2025-11-04T21:56:49.020448-08:00"}
{"id":"M28-8caa","content_hash":"b5c8076d5dae6e9317338ae34d196eafaaf63f1a7de6ea5df85e5665959fcfc4","title":"Decorators with @ syntax","description":"@decorator syntax for functions and classes.\nEnables macro system and Python-style metaprogramming.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:04.383446-08:00","updated_at":"2025-11-04T22:06:11.146046-08:00","closed_at":"2025-11-04T22:06:11.146046-08:00","labels":["completed-2024","language-feature"]}
{"id":"M28-8cf2","content_hash":"4d83ab974eb27dfea524dad1ae6a079630174e9593526407641641fd11910864","title":"Implement structured TokenizationError with source context","description":"Replace generic tokenization errors with structured TokenizationError:\n- Create TokenizationError type with SourceLocation\n- Update PythonTokenizer to use TokenizationError\n- Show helpful messages for common tokenization issues\n- Add visual context (source line + caret)\n- Include suggestions for fixable issues","design":"## TokenizationError structure:\n```go\ntype TokenizationError struct {\n    Message    string\n    Location   *SourceLocation\n    Suggestion string\n}\n```\n\n## Common tokenization errors to handle:\n- Unterminated string literals\n- Invalid characters\n- Indentation errors\n- Bad number literals\n\n## Files to modify:\n- parser/tokenizer.go (add TokenizationError type)\n- parser/python_tokenizer.go (use structured errors)","acceptance_criteria":"- Tokenization errors show file, line, column\n- Source context displayed with visual indicator\n- Common errors have helpful suggestions\n- Error messages match Python's style\n- Tests verify all tokenization error paths","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-22T13:12:30.950166-08:00","updated_at":"2025-11-22T13:27:24.34105-08:00","closed_at":"2025-11-22T13:27:24.34105-08:00","dependencies":[{"issue_id":"M28-8cf2","depends_on_id":"M28-d07c","type":"blocks","created_at":"2025-11-22T13:12:39.173286-08:00","created_by":"mim"}]}
{"id":"M28-8ee6","content_hash":"d0edff17952a094aa4f1147e5d224df01f5d12d2a1afd5dd40c61b0f2c6f2cc9","title":"Add Go unit tests","description":"Add Go unit tests (currently only M28 tests exist)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T21:59:24.814018-08:00","updated_at":"2025-11-04T21:59:24.814018-08:00","dependencies":[{"issue_id":"M28-8ee6","depends_on_id":"M28-25c9","type":"blocks","created_at":"2025-11-04T21:59:24.81464-08:00","created_by":"mim"}]}
{"id":"M28-921e","content_hash":"d7327ab6ddd32a596d0dc84df391741af463a0c03a78de16403ba67f61f9fda4","title":"Complete type system migration to core/types.go","description":"Consolidated type definitions and utilities:\n- All Value types in core/value.go\n- Type checking and conversion in core/types.go\n- Consistent type naming and hierarchy\n- Removed duplicate type definitions\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:07:48.71423-08:00","updated_at":"2025-11-04T22:07:55.49515-08:00","closed_at":"2025-11-04T22:07:55.49515-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-93a3","content_hash":"42289aa4ab2530d5385efc71cd8093671b0830712adddf5da7c3af528f2fe469","title":"Python Module Auto-Transpiling","description":"Automatically transpile and load Python standard library modules at runtime, eliminating need to reimplement every module natively","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T21:56:27.936885-08:00","updated_at":"2025-11-04T21:56:27.936885-08:00"}
{"id":"M28-96b5","content_hash":"ff7250bba70527142ad204fc3c8cc6123c9f38d0eb5af8de0f51579fa6c70214","title":"__del__ dunder method","description":"Implement __del__ finalizer/destructor","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.482463-08:00","updated_at":"2025-11-04T21:58:58.482463-08:00","dependencies":[{"issue_id":"M28-96b5","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.483022-08:00","created_by":"mim"}]}
{"id":"M28-9c03","content_hash":"1cf3ae78d85699079e55c2ce6e3c4908cbe51c3658eca7189219f5b179b521ee","title":"Performance benchmarks","description":"Create comprehensive performance benchmarks for tracking performance over time","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T21:59:24.885753-08:00","updated_at":"2025-11-04T21:59:24.885753-08:00","dependencies":[{"issue_id":"M28-9c03","depends_on_id":"M28-25c9","type":"blocks","created_at":"2025-11-04T21:59:24.886218-08:00","created_by":"mim"}]}
{"id":"M28-9e56","content_hash":"693b5c510a26e243b5ddb7ce7679737e54ef437a1576c85c8386065670cf5186","title":"Pass CPython test_bool.py regression test","description":"Ensure all tests in CPython's test_bool.py pass in M28. Tests boolean type behavior, truthiness, and bool() conversion.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-04T22:14:44.27915-08:00","updated_at":"2025-11-04T22:14:51.327407-08:00","closed_at":"2025-11-04T22:14:51.327407-08:00","dependencies":[{"issue_id":"M28-9e56","depends_on_id":"M28-877c","type":"parent-child","created_at":"2025-11-04T22:16:09.592217-08:00","created_by":"mim"}]}
{"id":"M28-a249","content_hash":"fdb90782eec1c0ef4d7d49f49ed451615014693d1c1e2164ba5f5623815842e3","title":"Package reorganization","description":"Reorganize packages - core package is doing too much","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-04T21:58:35.541687-08:00","updated_at":"2025-11-04T21:58:35.541687-08:00","dependencies":[{"issue_id":"M28-a249","depends_on_id":"M28-a420","type":"blocks","created_at":"2025-11-04T21:58:35.542191-08:00","created_by":"mim"}]}
{"id":"M28-a257","content_hash":"634f5a353570c23d0446e1168827861c72c4aec51a1d505e87ea2af87103053f","title":"Core Python Standard Library modules","description":"Comprehensive stdlib implementation completed in 2024:\n\nCore modules:\n- os: File system operations, environment variables, process management\n- json: JSON encoding/decoding\n- time: Time access and conversions\n- datetime: Date and time manipulation\n- pathlib: Object-oriented filesystem paths\n- random: Random number generation\n- shutil: High-level file operations\n- math: Mathematical functions\n\ncollections module:\n- defaultdict: Dict with default factory\n- Counter: Counting hashable objects\n- deque: Double-ended queue\n- namedtuple: Named tuple factory\n\nitertools module:\n- chain, cycle, islice, count, repeat\n- takewhile, dropwhile, compress\n- product, combinations, permutations\n\nfunctools module:\n- reduce, partial, cache, lru_cache, cmp_to_key\n\noperator module:\n- add, mul, eq, lt, itemgetter, attrgetter, etc.\n\nOther utilities:\n- copy: Shallow and deep copy\n- heapq: Heap queue operations (heappush, heappop, heapify, nsmallest, nlargest, heappushpop, heapreplace)\n\nAll completed in 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:07:04.055044-08:00","updated_at":"2025-11-04T22:07:07.154751-08:00","closed_at":"2025-11-04T22:07:07.154751-08:00","labels":["completed-2024","stdlib"]}
{"id":"M28-a420","content_hash":"a100f861c6cb25d3a78a3d88fea72ff0da9b5c5c4c7726c0374cde546e90913f","title":"Architecture Improvements","description":"Long-term architecture improvements including package reorganization, visitor pattern for AST, data-driven type registry, code generation, standardize error handling, import organization, and generics usage","status":"open","priority":3,"issue_type":"epic","created_at":"2025-11-04T21:56:48.953402-08:00","updated_at":"2025-11-04T21:56:48.953402-08:00"}
{"id":"M28-a472","content_hash":"4de8c07d2bb432058d161725e09f2bac423f08bc89c903bc4f643da0befeae7e","title":"Compiler Architecture Phase 3: Separate Frontend","description":"Move parser code to frontend/m28/, move Python parser to frontend/python/, add frontend abstraction, file extension detection (.py vs .m28). Deliverable: Clean frontend/HIR/backend separation","design":"Clean frontend/backend separation. Timeline: 1-2 months. See docs/design/compiler-architecture.md Phase 3","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:58:15.969145-08:00","updated_at":"2025-11-04T21:58:15.969145-08:00","dependencies":[{"issue_id":"M28-a472","depends_on_id":"M28-b5c6","type":"blocks","created_at":"2025-11-04T21:58:15.969574-08:00","created_by":"mim"}]}
{"id":"M28-a586","content_hash":"cd9b95caff20c28551f068bf5bea03d9da148f407d6a2480146c8a799bc8daa3","title":"InitializeTypeRegistry refactoring","description":"Centralized type registration system:\n- Single source of truth for all M28 types\n- Clean initialization order\n- Type inheritance and relationships\n- Method and attribute registration\n\nCompleted November 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:08:12.407808-08:00","updated_at":"2025-11-04T22:08:19.065615-08:00","closed_at":"2025-11-04T22:08:19.065615-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-a88f","content_hash":"095c328b87cd9c60e1b2db6ee6aaab08c3e94c5eed54624593e0ab459af306b6","title":"Compiler Architecture Phase 1: Formalize HIR","description":"Create hir/ package with operation types, create hir.Op → core.Value adapter (compatibility), update parser to emit HIR, keep evaluator unchanged. Deliverable: Parser → HIR → Adapter → core.Value → Evaluator","design":"Split IR from runtime values. Timeline: 1-2 months. See docs/design/compiler-architecture.md Phase 1","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:58:15.899937-08:00","updated_at":"2025-11-04T21:58:15.899937-08:00","dependencies":[{"issue_id":"M28-a88f","depends_on_id":"M28-b5c6","type":"blocks","created_at":"2025-11-04T21:58:15.900425-08:00","created_by":"mim"}]}
{"id":"M28-a985","content_hash":"b04b6203b9cd4a2be33be3ea13fbf9e5d1ba4c94efc005757f8230dda721c071","title":"Pass CPython test_contains.py regression test","description":"Ensure all tests in CPython's test_contains.py pass in M28. Tests the 'in' and 'not in' operators, __contains__ protocol, and sequence fallback behavior.\n\nFile: /Users/mim/.pyenv/versions/3.12.0/lib/python3.12/test/test_contains.py (109 lines)\n\nTests include:\n- __contains__ protocol implementation\n- Sequence __getitem__ fallback\n- String containment\n- Builtin sequence types (list, tuple, range)\n- Non-reflexive equality (NEVER_EQ test object)\n\nBlocked by: unittest.main() exception and test.support module dependency","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-07T07:12:00.521011-08:00","updated_at":"2025-11-07T07:12:00.521011-08:00","dependencies":[{"issue_id":"M28-a985","depends_on_id":"M28-877c","type":"blocks","created_at":"2025-11-07T07:12:00.522335-08:00","created_by":"mim"},{"issue_id":"M28-a985","depends_on_id":"M28-e4b4","type":"blocks","created_at":"2025-11-07T07:12:00.522757-08:00","created_by":"mim"}]}
{"id":"M28-a9fb","content_hash":"f16e3bb9fedab75d6f2599719a1f5fcc820d37284314601268f106d4f5de0b64","title":"Builtin duplicate cleanup","description":"Removed duplicate builtin function implementations:\n- Consolidated multiple versions of same functions\n- Single canonical implementation per builtin\n- Better testing coverage\n- Reduced maintenance burden\n\nCompleted October 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:08:12.56021-08:00","updated_at":"2025-11-04T22:08:19.225062-08:00","closed_at":"2025-11-04T22:08:19.225062-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-ac6b","content_hash":"90f3009a587a141526c6106f2fcccb3cdda50414144e5b5cad36941326cd17ab","title":"Python Frontend Implementation","description":"Complete Python syntax support in five phases:\n- Phase A: Python Tokenizer (2024-11)\n- Phase B: Python AST Nodes (2024-11)\n- Phase C: Python Parser (2024-11)\n- Phase D: AST Lowering (2024-12)\n- Phase E: Integration (2024-12)\n\nAllows writing M28 code using Python syntax alongside Lisp syntax.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-04T22:05:16.652283-08:00","updated_at":"2025-11-04T22:05:48.43094-08:00","closed_at":"2025-11-04T22:05:48.43094-08:00","labels":["completed-2024","python-frontend"]}
{"id":"M28-af4b","content_hash":"94a2332766e408a3d36ae35a6c268ada39e66f35153a20b0a22f4b6109a84c03","title":"__new__ dunder method","description":"Implement __new__ constructor (before __init__)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.442221-08:00","updated_at":"2025-11-04T21:58:58.442221-08:00","dependencies":[{"issue_id":"M28-af4b","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.442853-08:00","created_by":"mim"}]}
{"id":"M28-b0b3","content_hash":"8cf45a4f6347a48dc244834044057599ee21d73c1f908fba61c0d327aafc005b","title":"LSP: Go-to-definition","description":"Implement go-to-definition using AST locations","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:24.990626-08:00","updated_at":"2025-11-04T21:59:24.990626-08:00","dependencies":[{"issue_id":"M28-b0b3","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:24.991096-08:00","created_by":"mim"}]}
{"id":"M28-b20f","content_hash":"d2c5f9f8b02a1bec9b49115aced03cce29be006e6a5d2efaa057361c7ce0519f","title":"Type System Foundation","description":"Foundation for gradual typing system including type AST nodes, type inference, generic types, optional type checking, type error reporting, type-directed optimizations, and runtime type checking","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:49.050153-08:00","updated_at":"2025-11-04T21:56:49.050153-08:00"}
{"id":"M28-b31f","content_hash":"eed7e997f8f3a965afa264e0c745341dfafa897060cee05df4598cbf5cc92d03","title":"Copy protocol: __copy__ and __deepcopy__","description":"Implement __copy__ and __deepcopy__ dunder methods for shallow and deep copy support","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:58.693995-08:00","updated_at":"2025-11-04T21:58:58.693995-08:00","dependencies":[{"issue_id":"M28-b31f","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.694512-08:00","created_by":"mim"}]}
{"id":"M28-b3f4","content_hash":"10432f735e4f8c6d3c24eb4702126362fdf58e33832a8ac6872dc31f14cc7d90","title":"Pattern matching (match/case)","description":"Implement Python 3.10+ structural pattern matching. Tokens exist (TOKEN_MATCH, TOKEN_CASE) but no implementation. HIGH PRIORITY - major missing language feature","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-04T21:57:11.300777-08:00","updated_at":"2025-11-04T21:57:11.300777-08:00","dependencies":[{"issue_id":"M28-b3f4","depends_on_id":"M28-8944","type":"blocks","created_at":"2025-11-04T21:57:11.301236-08:00","created_by":"mim"}]}
{"id":"M28-b5c6","content_hash":"efdfa67777fd47e07d41e54020374dae0d889528d3806802f8e603dc6ffe3bc6","title":"Compiler Architecture Migration","description":"Multi-frontend, multi-backend language platform migration. Formalize HIR layer, separate frontends, add bytecode backend, LLVM backend, and WASM backend. See docs/design/compiler-architecture.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T21:56:49.139923-08:00","updated_at":"2025-11-04T21:56:49.139923-08:00"}
{"id":"M28-b779","content_hash":"84efdb92fd2c068cc5842cd3558c71966c48d3d7dda863d57e99f14a2ef4b3f4","title":"Documentation testing framework","description":"Implement documentation testing framework to ensure doc examples work correctly","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T21:59:24.920669-08:00","updated_at":"2025-11-04T21:59:24.920669-08:00","dependencies":[{"issue_id":"M28-b779","depends_on_id":"M28-25c9","type":"blocks","created_at":"2025-11-04T21:59:24.921083-08:00","created_by":"mim"}]}
{"id":"M28-bb62","content_hash":"7ad718576cf0ac61e906051f312e41bc1e56e982418840eac9fb6a9b9ec103ae","title":"Argument unpacking (*args, **kwargs)","description":"Complete argument unpacking support:\n- Function calls: func(*args, **kwargs)\n- Function definitions: def f(*args, **kwargs)\n- Destructuring in all contexts\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:04.417781-08:00","updated_at":"2025-11-04T22:06:11.184693-08:00","closed_at":"2025-11-04T22:06:11.184693-08:00","labels":["completed-2024","language-feature"]}
{"id":"M28-bfbe","content_hash":"18fd07b8d0bf8b187298eb01666c7b73d9f4e61a68d73a762ea3583700bd6868","title":"yield from for generator delegation","description":"Implement yield from syntax for generator delegation","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:57:11.367421-08:00","updated_at":"2025-11-04T21:57:11.367421-08:00","dependencies":[{"issue_id":"M28-bfbe","depends_on_id":"M28-8944","type":"blocks","created_at":"2025-11-04T21:57:11.367935-08:00","created_by":"mim"}]}
{"id":"M28-c87f","content_hash":"9777b155fbbf42ee324bfe131da234ed8b9fe91f1a79834033d14de752d3a10a","title":"Sentinel iterator in iter()","description":"Implement sentinel iterator support in iter() function (builtin/iteration.go:65)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:58:35.436115-08:00","updated_at":"2025-11-04T21:58:35.436115-08:00","dependencies":[{"issue_id":"M28-c87f","depends_on_id":"M28-897c","type":"blocks","created_at":"2025-11-04T21:58:35.436784-08:00","created_by":"mim"}]}
{"id":"M28-c959","content_hash":"7725fd79f18ab6c2d1adf36d9c215b0ad0144c989ceb5634930f2ce715184e60","title":"Protocol wrapper implementations","description":"Generic wrapper system for Python protocols:\n- Automatic protocol detection\n- Wrapper generation for custom types\n- Protocol composition\n\nCompleted October 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:47.297258-08:00","updated_at":"2025-11-04T22:06:54.420084-08:00","closed_at":"2025-11-04T22:06:54.420084-08:00","labels":["completed-2024","protocols"]}
{"id":"M28-ce54","content_hash":"4b34fa6ffedf2fefe6854d3970dcfa6e8b955293d06740a147098bc592a5afe9","title":"Fix string literal parsing in _collections_abc context","description":"In CPython's _collections_abc.py, string literals like \"__call__\" are being parsed as SymbolValue instead of StringValue, causing \"name '__call__' is not defined\" errors.\n\nInvestigation shows:\n- Simple test cases work fine: `_check_methods(C, \"__call__\")` parses correctly\n- Full _collections_abc.py fails with the error\n- Debug output shows: unwrapped arg = __call__ (type=core.SymbolValue)\n- Error occurs in .keys() method call, suggesting the issue is context-dependent\n\nThe error manifests when importing _collections_abc:\n```\nerror in Python module '_collections_abc' (transpiled from /Users/mim/.pyenv/versions/3.12.0/lib/python3.12/_collections_abc.py):\n  error evaluating argument 1: NameError: name '__call__' is not defined\n```\n\nThis is a Python parser issue where string literals are incorrectly identified as identifiers in certain contexts within the full _collections_abc module.\n\nAcceptance:\n- _collections_abc.py imports successfully\n- String literals \"__call__\" parse as StringValue, not SymbolValue  \n- Test: `from _collections_abc import Callable` works\n- CPython Bool Tests pass\n- File I/O tests pass","design":"## Investigation needed\n1. Compare working test case vs full _collections_abc.py\n2. Check if there's a parser state issue or context sensitivity\n3. Look for patterns in _collections_abc.py that trigger the misparse\n4. Check token stream for line 552: `return _check_methods(C, \"__call__\")`\n\n## Likely root causes\n- Parser may have different behavior in large files\n- String literal detection may depend on preceding code\n- Possible quote handling issue in Python parser\n\n## Files to examine\n- parser/python_parser.go: string literal parsing\n- parser/lexer.go: tokenization of quoted strings\n- Check if there's any state that affects string vs identifier detection","notes":"FIXED: String literal parsing issue resolved. The __call__ marker in method calls with empty arguments (e.g., {}.keys()) was being created as SymbolValue/Identifier instead of StringValue/Literal. Fixed in three parser locations:\n- parser/dot_notation.go\n- parser/parser.go  \n- parser/python_parser.go\n\nVerified with comprehensive tests - method calls now parse correctly.\n\nNote: _collections_abc still has other unrelated issues (close() method signature mismatch) that need separate investigation.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-22T17:46:34.663158-08:00","updated_at":"2025-11-22T17:59:18.320813-08:00","closed_at":"2025-11-22T17:59:18.320813-08:00"}
{"id":"M28-d07c","content_hash":"116637b19e14144ce2935f0824cc37d91cd79a66ba53ead08bbeed624da125d7","title":"Design and implement centralized ErrorFormatter infrastructure","description":"Create core error formatting infrastructure:\n- ErrorFormatter type that tracks source code\n- SourceContext type for error location + source\n- Enhance SourceLocation with EndLine/EndCol for ranges\n- FormatError() method with Python-style output\n- Color support for terminal output\n- Unit tests for formatter","design":"## Architecture\nErrorFormatter maintains a map of filename -\u003e source code and provides:\n- FormatError(err, source) -\u003e formatted string with context\n- AddSource(filename, source) to register source code\n- Python-compatible format:\n  File \"path\", line N\n    source line\n    ^^^^ (carets)\n  ErrorType: message\n\n## Files to create/modify:\n- parser/error_formatter.go (NEW)\n- core/located_value.go (enhance SourceLocation)\n- parser/error_formatter_test.go (NEW)","acceptance_criteria":"- ErrorFormatter can format errors with source context\n- Output matches Python's error format\n- Supports color/no-color modes\n- Tests cover edge cases (missing source, invalid line numbers)\n- Documentation explains usage","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-22T13:12:30.8865-08:00","updated_at":"2025-11-22T13:20:00.852098-08:00","closed_at":"2025-11-22T13:20:00.852098-08:00"}
{"id":"M28-d1d5","content_hash":"a01f585b33d3c72a56c89dfa054061186e378bbb4f85eac839dcc8c50c5b3b60","title":"Super() implementation","description":"Python super() builtin for method resolution:\n- MRO (Method Resolution Order) traversal\n- Support for super() in methods\n- Proper parent class method calls\n- Integration with class system\n\nCompleted October 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:08:12.597255-08:00","updated_at":"2025-11-04T22:08:19.270115-08:00","closed_at":"2025-11-04T22:08:19.270115-08:00","labels":["completed-2024","language-feature"]}
{"id":"M28-d27a","content_hash":"709af3dfed8e856fa107756a2ff2322b3668fb152c59ffd37c13ad6ef7946d51","title":"__index__ dunder method","description":"Integer conversion protocol for indexing operations.\nEnables custom types to be used as indices and in integer contexts.\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:47.374668-08:00","updated_at":"2025-11-04T22:06:54.488335-08:00","closed_at":"2025-11-04T22:06:54.488335-08:00","labels":["completed-2025-01","protocols"]}
{"id":"M28-d486","content_hash":"eef003c3c3324d56f8f1b7943dc756bd5cb4e32ad475c41a70efafc682b24d66","title":"Module/Builtin separation","description":"Clear distinction between builtins and modules:\n- Builtins always available in global scope\n- Modules require explicit import\n- Organized file structure (builtin/ vs modules/)\n- Consistent naming conventions\n\nCompleted November 2024.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:08:12.451504-08:00","updated_at":"2025-11-04T22:08:19.111701-08:00","closed_at":"2025-11-04T22:08:19.111701-08:00","labels":["completed-2024","refactoring"]}
{"id":"M28-d5f8","content_hash":"90615d59e8ab07e608278326307d02077df4b516aaea97d06e0fb8b056c6a111","title":"Linter with configurable rules","description":"Implement linter that analyzes AST with configurable rules","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.191828-08:00","updated_at":"2025-11-04T21:59:25.191828-08:00","dependencies":[{"issue_id":"M28-d5f8","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.192251-08:00","created_by":"mim"}]}
{"id":"M28-d8f8","content_hash":"13775d318ae7129d0699c1400ddd33ed9c3ba3bd9dfb3c2778024cfcc0faf6a0","title":"AST Phase 4: Type Annotation Support","description":"Add TypeInfo structure for Python type hints. Parse Python type annotations into AST. Store type info in metadata table. Deliverable: Type hints preserved, queryable by tooling","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-04T21:57:33.211584-08:00","updated_at":"2025-11-04T21:57:33.211584-08:00","dependencies":[{"issue_id":"M28-d8f8","depends_on_id":"M28-3ef5","type":"blocks","created_at":"2025-11-04T21:57:33.21217-08:00","created_by":"mim"}]}
{"id":"M28-d9dc","content_hash":"180756b328988c1c11c0dc28450885e1d46367d1c7bce74262c8a91c4ef014c5","title":"MIR Phase 5: Serialization","description":"Bytecode serialization format (.m28c files), bytecode deserialization and loading, bytecode verification, CLI commands (compile, run, disassemble), disassembler tool. Deliverable: Save, load, execute .m28c files","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:53.812834-08:00","updated_at":"2025-11-04T21:57:53.812834-08:00","dependencies":[{"issue_id":"M28-d9dc","depends_on_id":"M28-8c76","type":"blocks","created_at":"2025-11-04T21:57:53.813298-08:00","created_by":"mim"}]}
{"id":"M28-db23","content_hash":"28be1f3bf2a624bc0a4cd28b407f0bb5a82e24e074e53d92d685d122443fba91","title":"Add comprehensive error handling tests","description":"Create comprehensive test suite for error handling:\n- Unit tests for each error type\n- Integration tests for end-to-end error display\n- Regression tests to prevent error format breakage\n- Test common Python error scenarios\n- Verify error messages match CPython where applicable","design":"## Test categories:\n1. Tokenization errors (unterminated string, bad chars)\n2. Parse errors (unclosed paren, missing colon, etc.)\n3. Runtime errors (NameError, TypeError, etc.)\n4. Stack trace accuracy\n5. Error recovery and synchronization\n\n## Files to create:\n- tests/test_error_handling.py (NEW)\n- parser/error_formatter_test.go\n- parser/tokenizer_test.go (error cases)\n- parser/python_parser_test.go (error cases)","acceptance_criteria":"- 100+ test cases covering common errors\n- All error types tested\n- Visual inspection of error output\n- CI runs error tests automatically\n- Documentation with error examples","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-22T13:12:31.34661-08:00","updated_at":"2025-11-22T14:25:03.94095-08:00","closed_at":"2025-11-22T14:25:03.94095-08:00","dependencies":[{"issue_id":"M28-db23","depends_on_id":"M28-858d","type":"blocks","created_at":"2025-11-22T13:12:39.356493-08:00","created_by":"mim"}]}
{"id":"M28-db37","content_hash":"ecf723a800e2d3843011167aed21738ba230ca603824ce1234f9ed6563910492","title":"Data Types","description":"Implementation of missing data types including complex numbers, frozenset, Decimal, and Collections module types","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-04T21:56:27.763371-08:00","updated_at":"2025-11-04T21:56:27.763371-08:00"}
{"id":"M28-dda0","content_hash":"8530be2b875ff4d713aec4350dc5a65296b3c7bd7a0c7f60719bf8ee0372fb54","title":"Debug adapter protocol (DAP)","description":"Implement Debug Adapter Protocol that uses AST for breakpoints","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.258657-08:00","updated_at":"2025-11-04T21:59:25.258657-08:00","dependencies":[{"issue_id":"M28-dda0","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.259235-08:00","created_by":"mim"}]}
{"id":"M28-ddfd","content_hash":"6e128fbe0051eedf185889be2e7aca1f983f97dda4458812f16c839e1c536b56","title":"Python Compatibility Improvements","description":"Four-phase compatibility improvements:\n- Phase 1: Fix Critical Parser Bugs (2024-12)\n- Phase 2: Import Support (2024-12)\n- Phase 3: Common Python Patterns (2024-12)\n- Phase 4: Polish \u0026 Edge Cases (2024-12)\n\nEnsures Python code runs correctly in M28.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-04T22:05:16.686309-08:00","updated_at":"2025-11-04T22:05:48.470635-08:00","closed_at":"2025-11-04T22:05:48.470635-08:00","labels":["completed-2024","python-compat"]}
{"id":"M28-ded4","content_hash":"e2c9566c6716e6a85944260e308aa3f5b6a8c3edb122eabf91c2734ae0c20a82","title":"Property-based testing for parser","description":"Implement property-based testing for parser using Go testing frameworks","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T21:59:24.851627-08:00","updated_at":"2025-11-04T21:59:24.851627-08:00","dependencies":[{"issue_id":"M28-ded4","depends_on_id":"M28-25c9","type":"blocks","created_at":"2025-11-04T21:59:24.852143-08:00","created_by":"mim"}]}
{"id":"M28-df8a","content_hash":"57ac73ab2a64ec0470ada5a22a6cd16e7f1704ce6a0671f0a6bf4db9c53f3405","title":"Short-circuit evaluation verification","description":"Verify that short-circuit evaluation (and/or operators) works correctly","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T21:57:11.333995-08:00","updated_at":"2025-11-04T21:57:11.333995-08:00","dependencies":[{"issue_id":"M28-df8a","depends_on_id":"M28-8944","type":"blocks","created_at":"2025-11-04T21:57:11.33446-08:00","created_by":"mim"}]}
{"id":"M28-dfdf","content_hash":"921d3c115732409ef3235d68de2a5830695370039212e98cc057e6d1ca078b10","title":"Collections module types (deque, Counter, defaultdict)","description":"Implement remaining collections module types beyond what's already implemented","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:57:19.533036-08:00","updated_at":"2025-11-04T21:57:19.533036-08:00","dependencies":[{"issue_id":"M28-dfdf","depends_on_id":"M28-db37","type":"blocks","created_at":"2025-11-04T21:57:19.53356-08:00","created_by":"mim"}]}
{"id":"M28-e0eb","content_hash":"85ee523d4bc68316a7106bed1b9bc50d59ffb0c5024411dcc379589d5c90e9b0","title":"Compiler Architecture Phase 4: Bytecode Backend","description":"Design instruction set, implement HIR → Bytecode compiler, implement bytecode VM, add optimization (type specialization), add .m28c serialization. Deliverable: 3-10x speedup, .m28c file format, CLI commands","design":"Add bytecode VM for performance. Timeline: 2-3 months. See docs/design/compiler-architecture.md Phase 4","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:58:16.004148-08:00","updated_at":"2025-11-04T21:58:16.004148-08:00","dependencies":[{"issue_id":"M28-e0eb","depends_on_id":"M28-b5c6","type":"blocks","created_at":"2025-11-04T21:58:16.004604-08:00","created_by":"mim"}]}
{"id":"M28-e200","content_hash":"ab4e47298fc2bc1e036b8801b622af17edd98209c5df903ce565eb04d5940f29","title":"Async protocol dunder methods","description":"Implement __await__, __aiter__, __anext__, __aenter__, __aexit__ for async support (low priority - future)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-04T21:58:58.729765-08:00","updated_at":"2025-11-04T21:58:58.729765-08:00","dependencies":[{"issue_id":"M28-e200","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.73026-08:00","created_by":"mim"}]}
{"id":"M28-e31c","content_hash":"8cf40dc85f32bcc4dc21b10b079efb775126c155daf87db15fcfccf70d0c6905","title":"LSP: Auto-completion","description":"Implement auto-completion using context + type info from AST","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-04T21:59:25.090468-08:00","updated_at":"2025-11-04T21:59:25.090468-08:00","dependencies":[{"issue_id":"M28-e31c","depends_on_id":"M28-2d6f","type":"blocks","created_at":"2025-11-04T21:59:25.090877-08:00","created_by":"mim"}]}
{"id":"M28-e4b4","content_hash":"d4723b43ab61857782c334c117e353fd44494fbccfebf8b5690021d57ae3e3bd","title":"Fix unittest.main() Exception handling issue","description":"Many CPython regression tests fail with \"error in TestProgram.__init__: Exception: Exception\" when unittest.main() is called. This is blocking multiple test files from passing.\n\nThe issue appears to be in unittest's TestProgram initialization, likely related to:\n- SystemExit handling (unittest.main() raises SystemExit which is expected)\n- Argument parsing or test discovery\n- Module introspection when loading tests\n\nSimple tests with unittest.main() work fine, but tests with certain patterns (like dynamically created classes, complex test fixtures) trigger this error.\n\nTests blocked by this issue:\n- test_class.py\n- test_augassign.py  \n- test_dictcomps.py\n- test_contains.py","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-07T07:11:33.262731-08:00","updated_at":"2025-11-07T07:11:33.262731-08:00","dependencies":[{"issue_id":"M28-e4b4","depends_on_id":"M28-877c","type":"blocks","created_at":"2025-11-07T07:11:33.26367-08:00","created_by":"mim"}]}
{"id":"M28-e6bb","content_hash":"8157fa30299147046de15f07395e56602ad48a5cfe3316f4db4b870c459485b7","title":"Code generation for repetitive patterns","description":"Consider code generation for repetitive patterns to reduce boilerplate","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-04T21:58:35.638744-08:00","updated_at":"2025-11-04T21:58:35.638744-08:00","dependencies":[{"issue_id":"M28-e6bb","depends_on_id":"M28-a420","type":"blocks","created_at":"2025-11-04T21:58:35.639194-08:00","created_by":"mim"}]}
{"id":"M28-e702","content_hash":"df4555539284eceb132eeea5d63fb87cfac75c9d2a99435655717f1eb669410b","title":"Top-level infix operator support","description":"Fixed parsing of infix operators at top level:\n- x = 10 + 20 (previously required parentheses)\n- Multiple operators: x = a + b * c\n- Proper precedence and associativity\n- Works in both S-expression and Python syntax\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:08:28.007509-08:00","updated_at":"2025-11-04T22:08:31.716101-08:00","closed_at":"2025-11-04T22:08:31.716101-08:00","labels":["completed-2025-01","parser"]}
{"id":"M28-e71f","content_hash":"51c4d990dc0ef82fbcd531b728f43c18254b80244a4ddc6042810a2302abd923","title":"Functions need __code__ attribute for unittest.mock","description":"unittest.mock import fails with: 'function' object has no attribute '__code__'\n\nIn Python, all functions have a __code__ attribute containing the code object. M28 functions (UserFunction, BuiltinFunction) need to implement __code__ attribute.\n\nContext: After fixing dir() and __init__ bugs, this is the next blocker for unittest.mock.\n\nExpected behavior: func.__code__ should return a code object\nCurrent behavior: AttributeError: 'function' object has no attribute '__code__'\n\nFiles likely involved:\n- eval/evaluator.go (UserFunction)\n- core/primitives.go (BuiltinFunction)\n- Need to add __code__ attribute that returns a CodeType instance","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-21T09:14:31.114614-08:00","updated_at":"2025-11-21T11:01:59.442143-08:00","closed_at":"2025-11-21T11:01:59.442143-08:00"}
{"id":"M28-eec7","content_hash":"9dacc48f73749f6169806849a3df4613840be124c691ea7b1cf9578ac9e766e5","title":"frozenset data type","description":"Immutable set type implementation.\nFull protocol support for immutable set operations.\n\nCompleted December 2024.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:06:47.13386-08:00","updated_at":"2025-11-04T22:06:54.2816-08:00","closed_at":"2025-11-04T22:06:54.2816-08:00","labels":["completed-2024","data-types"]}
{"id":"M28-f044","content_hash":"d9a3b5f7c4530158bbd324685e28a03abdcd0aabcc53932ede1a3e2f729cdd41","title":"Complete tokenizer integration","description":"Unified tokenizer for both S-expression and Python syntax:\n- Position tracking for all tokens\n- Error recovery and reporting\n- Multi-line support\n- Integration with parser and AST layer\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-04T22:07:15.266793-08:00","updated_at":"2025-11-04T22:07:19.57494-08:00","closed_at":"2025-11-04T22:07:19.57494-08:00","labels":["completed-2025-01","parser"]}
{"id":"M28-f12e","content_hash":"f588f0a91c6c5dd73ad375dd460f90d38b34bb19fe9ed8e56fabbcf94490dfda","title":"Numeric functions refactoring (abs, round, pow, divmod)","description":"Consolidated numeric builtin functions:\n- abs(), round(), pow(), divmod(), min(), max()\n- Protocol support (__abs__, __round__, __pow__)\n- Type coercion and validation\n- Edge case handling\n\nCompleted January 2025.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-04T22:07:48.864192-08:00","updated_at":"2025-11-04T22:07:55.635719-08:00","closed_at":"2025-11-04T22:07:55.635719-08:00","labels":["completed-2025-01","refactoring"]}
{"id":"M28-f26b","content_hash":"f3966052a50ea62406f3ae9edd608cb9d16cc0afa85ce2aa97d3ad192f936c74","title":"Pickle protocol dunder methods","description":"Implement __reduce__, __reduce_ex__, __getnewargs__, __getnewargs_ex__, __getstate__, __setstate__ for pickle support (low priority - future)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-04T21:58:58.765458-08:00","updated_at":"2025-11-04T21:58:58.765458-08:00","dependencies":[{"issue_id":"M28-f26b","depends_on_id":"M28-377f","type":"blocks","created_at":"2025-11-04T21:58:58.766058-08:00","created_by":"mim"}]}
{"id":"M28-f278","content_hash":"3e015fd77c2ca20fea7ec233a69b9cb70e44a6f988b5e39eca72177a336361c9","title":"Data-driven type registry","description":"Refactor type registry to use data-driven approach","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-04T21:58:35.604742-08:00","updated_at":"2025-11-04T21:58:35.604742-08:00","dependencies":[{"issue_id":"M28-f278","depends_on_id":"M28-a420","type":"blocks","created_at":"2025-11-04T21:58:35.605178-08:00","created_by":"mim"}]}
{"id":"M28-f2db","content_hash":"b227b3e17a5339532750ed601e88e586206b9efd9dd28a60f162e1fac45f7e01","title":"Convert PythonParser to use structured ParseError","description":"Update PythonParser to create structured ParseError objects instead of fmt.Errorf:\n- Update parser.error() to create ParseError with location\n- Track source filename in parser\n- Add common parse error suggestions\n- Preserve source context through parse pipeline\n- Test with intentional syntax errors","design":"## Changes to PythonParser:\n```go\ntype PythonParser struct {\n    // ... existing fields\n    filename  string     // NEW: track source file\n    source    string     // NEW: preserve source\n}\n\nfunc (p *PythonParser) error(message string) {\n    tok := p.peek()\n    err := \u0026ParseError{\n        Message:  message,\n        Line:     tok.Line,\n        Col:      tok.Col,\n        Filename: p.filename,\n        Source:   p.source,\n    }\n    p.errors = append(p.errors, err)\n}\n```\n\n## Files to modify:\n- parser/python_parser.go\n- parser/parser.go (update ParseError type)","acceptance_criteria":"- All parse errors are ParseError instances\n- Errors include filename and source context\n- Error messages are clear and actionable\n- Common errors have \"did you mean\" suggestions\n- Tests verify error quality with real Python syntax errors","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-22T13:12:31.040027-08:00","updated_at":"2025-11-22T13:34:21.773129-08:00","closed_at":"2025-11-22T13:34:21.773129-08:00","dependencies":[{"issue_id":"M28-f2db","depends_on_id":"M28-d07c","type":"blocks","created_at":"2025-11-22T13:12:39.214658-08:00","created_by":"mim"}]}
{"id":"M28-f640","content_hash":"5a2ea4dc0a584d1df514b9823e2f0914237466fdc8d84812df1d3d4eb4e6965c","title":"Python Module Auto-Transpiling Phase 4: Polish","description":"Configuration options (M28_PYTHON_PATH, etc.), better error messages, C extension detection and graceful errors, documentation","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-04T21:57:33.315344-08:00","updated_at":"2025-11-04T21:57:33.315344-08:00","dependencies":[{"issue_id":"M28-f640","depends_on_id":"M28-93a3","type":"blocks","created_at":"2025-11-04T21:57:33.315944-08:00","created_by":"mim"}]}
{"id":"M28-f785","content_hash":"b3c7386a50e96056e2641a794e148b1b726701973ba1bc1314992e79ec82ab2e","title":"Pass test_int.py regression test","description":"Target CPython's test_int.py for regression testing.\n\nStatus:\n- Parser fix complete: Now supports float literals starting with . (e.g., .995)\n- Test now parses successfully past line 686\n- Blocked on: Cannot import unittest.mock submodule\n\nBlocker:\n- Error: \"cannot import name 'mock' from 'unittest'\" at line 5\n- Root cause: M28's import system doesn't support `from package import submodule`\n- CPython has /unittest/mock.py but M28 can't import it as submodule\n\nNext steps:\n1. Fix import system to support package.submodule imports\n2. Ensure `from unittest import mock` works\n3. Run test_int.py to find next blocker","notes":"Updated blocker analysis:\n- Parser fix complete: float literals starting with . work (e.g., .995)\n- Import system works: 'from unittest import mock' successfully loads unittest/mock.py\n- New blocker: ssl module stub is incomplete, missing SSLWantReadError and other SSL exception classes needed by asyncio.sslproto\n- Dependency chain: test_int.py → unittest.mock → asyncio → asyncio.sslproto → ssl.SSLWantReadError (missing)\n\nNeed to create an issue for completing the ssl module stub.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-07T07:37:36.730415-08:00","updated_at":"2025-11-20T13:01:59.965297-08:00","dependencies":[{"issue_id":"M28-f785","depends_on_id":"M28-877c","type":"blocks","created_at":"2025-11-07T07:37:36.731678-08:00","created_by":"mim"},{"issue_id":"M28-f785","depends_on_id":"M28-6f4b","type":"blocks","created_at":"2025-11-20T13:02:21.384392-08:00","created_by":"mim"}]}
{"id":"M28-f7ff","content_hash":"77b3b70b8c917552fa5d8e7e780cd5399399bd0d543eac0f6e4d1b4ffdaa4a14","title":"MIR Phase 6: Integration \u0026 Testing","description":"Integrate with main evaluator, transparent fallback to tree-walking, configuration options, performance benchmarking suite, comprehensive testing, documentation. Deliverable: Production-ready bytecode VM with 3-10x speedup","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-04T21:57:53.848303-08:00","updated_at":"2025-11-04T21:57:53.848303-08:00","dependencies":[{"issue_id":"M28-f7ff","depends_on_id":"M28-8c76","type":"blocks","created_at":"2025-11-04T21:57:53.848767-08:00","created_by":"mim"}]}
{"id":"M28-f9f8","content_hash":"429e93f801107fcaff97e24a4682824c0ffa48626a5a18a218321554334c208f","title":"Python Frontend Implementation","description":"Building on AST layer foundation to enable true Python syntax support. Phases A-E complete. See docs/design/python-frontend-design.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-04T21:56:27.904022-08:00","updated_at":"2025-11-04T21:56:27.904022-08:00"}
{"id":"M28-fc42","content_hash":"522aa99235cf7901a6404ab3a61421bc0d325682b580a84c2a2ed4c4457cb380","title":"Audit all special forms for LocatedValue handling","description":"After fixing assignForm, audit ALL special form handlers to ensure they properly unwrap LocatedValue before type assertions.\n\nSpecial forms that likely need fixes:\n- defForm (function definitions)\n- ifForm (conditionals)\n- forForm (loops)\n- whileForm (loops)\n- tryForm (exception handling)\n- classForm (class definitions)\n- lambdaForm (lambda functions)\n- importForm (imports)\n- getItemForm (indexing)\n- setItemForm (item assignment)\n- All comparison and operator forms","design":"## Approach\n\n1. Create a central unwrap utility in core/located_value.go or eval/util.go\n2. Grep for all type assertions in special forms\n3. Add unwrap calls before type assertions\n4. Test each special form category\n\n## Testing Strategy\n- Run CPython grammar test after each category fix\n- Track which sections pass/fail\n- Focus on high-impact forms first (def, if, for, class)","acceptance_criteria":"- All special forms properly unwrap LocatedValue\n- CPython grammar test shows improved pass rate\n- Document which forms were fixed in commit message","status":"closed","priority":0,"issue_type":"task","assignee":"claude","created_at":"2025-11-22T14:52:07.691196-08:00","updated_at":"2025-11-22T16:10:57.505863-08:00","closed_at":"2025-11-22T16:10:57.505863-08:00","dependencies":[{"issue_id":"M28-fc42","depends_on_id":"M28-1298","type":"blocks","created_at":"2025-11-22T14:52:07.691631-08:00","created_by":"mim"}]}
